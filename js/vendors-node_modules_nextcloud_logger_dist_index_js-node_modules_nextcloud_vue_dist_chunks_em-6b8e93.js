/*! For license information please see vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_vue_dist_chunks_em-6b8e93.js.LICENSE.txt */
"use strict";(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_vue_dist_chunks_em-6b8e93"],{71356:(t,e,r)=>{r(69070),r(32165),r(66992),r(78783),r(33948),Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleLogger=void 0,e.buildConsoleLogger=function(t){return new a(t)},r(19601),r(96649),r(96078),r(82526),r(41817),r(41539),r(9653);var n=r(20006);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}var a=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=s(n="context"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this.context=e||{}}var e,r,a;return e=t,(r=[{key:"formatMessage",value:function(t,e,r){var o="["+n.LogLevel[e].toUpperCase()+"] ";return r&&r.app&&(o+=r.app+": "),"string"==typeof t?o+t:(o+="Unexpected ".concat(t.name),t.message&&(o+=' "'.concat(t.message,'"')),e===n.LogLevel.Debug&&t.stack&&(o+="\n\nStack trace:\n".concat(t.stack)),o)}},{key:"log",value:function(t,e,r){var i,s;if(!("number"==typeof(null===(i=this.context)||void 0===i?void 0:i.level)&&t<(null===(s=this.context)||void 0===s?void 0:s.level)))switch("object"===o(e)&&void 0===(null==r?void 0:r.error)&&(r.error=e),t){case n.LogLevel.Debug:console.debug(this.formatMessage(e,n.LogLevel.Debug,r),r);break;case n.LogLevel.Info:console.info(this.formatMessage(e,n.LogLevel.Info,r),r);break;case n.LogLevel.Warn:console.warn(this.formatMessage(e,n.LogLevel.Warn,r),r);break;case n.LogLevel.Error:console.error(this.formatMessage(e,n.LogLevel.Error,r),r);break;case n.LogLevel.Fatal:default:console.error(this.formatMessage(e,n.LogLevel.Fatal,r),r)}}},{key:"debug",value:function(t,e){this.log(n.LogLevel.Debug,t,Object.assign({},this.context,e))}},{key:"info",value:function(t,e){this.log(n.LogLevel.Info,t,Object.assign({},this.context,e))}},{key:"warn",value:function(t,e){this.log(n.LogLevel.Warn,t,Object.assign({},this.context,e))}},{key:"error",value:function(t,e){this.log(n.LogLevel.Error,t,Object.assign({},this.context,e))}},{key:"fatal",value:function(t,e){this.log(n.LogLevel.Fatal,t,Object.assign({},this.context,e))}}])&&i(e.prototype,r),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.ConsoleLogger=a},55058:(t,e,r)=>{r(69070),r(32165),r(66992),r(78783),r(33948),Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerBuilder=void 0,r(96649),r(96078),r(82526),r(41817),r(41539),r(9653);var n=r(50849),o=r(20006);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function a(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"context",void 0),a(this,"factory",void 0),this.context={},this.factory=e}var e,r,i;return e=t,(r=[{key:"setApp",value:function(t){return this.context.app=t,this}},{key:"setLogLevel",value:function(t){return this.context.level=t,this}},{key:"setUid",value:function(t){return this.context.uid=t,this}},{key:"detectUser",value:function(){var t=(0,n.getCurrentUser)();return null!==t&&(this.context.uid=t.uid),this}},{key:"detectLogLevel",value:function(){var t=this;return function e(){var r,n;"complete"===document.readyState||"interactive"===document.readyState?(t.context.level=null!==(r=null===(n=window._oc_config)||void 0===n?void 0:n.loglevel)&&void 0!==r?r:o.LogLevel.Warn,window._oc_debug&&(t.context.level=o.LogLevel.Debug),document.removeEventListener("readystatechange",e)):document.addEventListener("readystatechange",e)}(),this}},{key:"build",value:function(){return void 0===this.context.level&&this.detectLogLevel(),this.factory(this.context)}}])&&s(e.prototype,r),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.LoggerBuilder=c},20006:(t,e,r)=>{r(69070),Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0;var n=function(t){return t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal",t}({});e.LogLevel=n},17499:(t,e,r)=>{r(69070),e.IY=s;var n=r(71356),o=r(55058),i=r(20006);function s(){return new o.LoggerBuilder(n.buildConsoleLogger)}},96077:(t,e,r)=>{var n=r(60614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},51223:(t,e,r)=>{var n=r(5112),o=r(70030),i=r(3070).f,s=n("unscopables"),a=Array.prototype;void 0===a[s]&&i(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},50206:(t,e,r)=>{var n=r(1702);t.exports=n([].slice)},49920:(t,e,r)=>{var n=r(47293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},76178:t=>{t.exports=function(t,e){return{value:t,done:e}}},38709:(t,e,r)=>{var n=r(19670),o=r(92140),i=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new i("Incorrect hint");return o(this,t)}},47045:(t,e,r)=>{var n=r(56339),o=r(3070);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},48324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(t,e,r)=>{var n=r(80317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},75668:(t,e,r)=>{var n=r(1702),o=r(19662);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},88044:(t,e,r)=>{var n=r(1702),o=r(43157),i=r(60614),s=r(84326),a=r(41340),l=n([].push);t.exports=function(t){if(i(t))return t;if(o(t)){for(var e=t.length,r=[],n=0;n<e;n++){var c=t[n];"string"==typeof c?l(r,c):"number"!=typeof c&&"Number"!==s(c)&&"String"!==s(c)||l(r,a(c))}var u=r.length,p=!0;return function(t,e){if(p)return p=!1,e;if(o(this))return e;for(var n=0;n<u;n++)if(r[n]===t)return e}}}},79587:(t,e,r)=>{var n=r(60614),o=r(70111),i=r(27674);t.exports=function(t,e,r){var s,a;return i&&n(s=e.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(t,a),t}},63061:(t,e,r)=>{var n=r(13383).IteratorPrototype,o=r(70030),i=r(79114),s=r(58003),a=r(97497),l=function(){return this};t.exports=function(t,e,r,c){var u=e+" Iterator";return t.prototype=o(n,{next:i(+!c,r)}),s(t,u,!1,!0),a[u]=l,t}},51656:(t,e,r)=>{var n=r(82109),o=r(46916),i=r(31913),s=r(76530),a=r(60614),l=r(63061),c=r(79518),u=r(27674),p=r(58003),f=r(68880),h=r(98052),d=r(5112),m=r(97497),g=r(13383),y=s.PROPER,v=s.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,S=d("iterator"),k="keys",x="values",O="entries",M=function(){return this};t.exports=function(t,e,r,s,d,g,N){l(r,e,s);var L,C,I,E=function(t){if(t===d&&j)return j;if(!w&&t&&t in _)return _[t];switch(t){case k:case x:case O:return function(){return new r(this,t)}}return function(){return new r(this)}},T=e+" Iterator",R=!1,_=t.prototype,A=_[S]||_["@@iterator"]||d&&_[d],j=!w&&A||E(d),F="Array"===e&&_.entries||A;if(F&&(L=c(F.call(new t)))!==Object.prototype&&L.next&&(i||c(L)===b||(u?u(L,b):a(L[S])||h(L,S,M)),p(L,T,!0,!0),i&&(m[T]=M)),y&&d===x&&A&&A.name!==x&&(!i&&v?f(_,"name",x):(R=!0,j=function(){return o(A,this)})),d)if(C={values:E(x),keys:g?j:E(k),entries:E(O)},N)for(I in C)(w||R||!(I in _))&&h(_,I,C[I]);else n({target:e,proto:!0,forced:w||R},C);return i&&!N||_[S]===j||h(_,S,j,{name:d}),m[e]=j,C}},13383:(t,e,r)=>{var n,o,i,s=r(47293),a=r(60614),l=r(70111),c=r(70030),u=r(79518),p=r(98052),f=r(5112),h=r(31913),d=f("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(n=o):m=!0),!l(n)||s((function(){var t={};return n[d].call(t)!==t}))?n={}:h&&(n=c(n)),a(n[d])||p(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},97497:t=>{t.exports={}},21574:(t,e,r)=>{var n=r(19781),o=r(1702),i=r(46916),s=r(47293),a=r(81956),l=r(25181),c=r(55296),u=r(47908),p=r(68361),f=Object.assign,h=Object.defineProperty,d=o([].concat);t.exports=!f||s((function(){if(n&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach((function(t){e[t]=t})),7!==f({},t)[r]||a(f({},e)).join("")!==o}))?function(t,e){for(var r=u(t),o=arguments.length,s=1,f=l.f,h=c.f;o>s;)for(var m,g=p(arguments[s++]),y=f?d(a(g),f(g)):a(g),v=y.length,b=0;v>b;)m=y[b++],n&&!i(h,g,m)||(r[m]=g[m]);return r}:f},1156:(t,e,r)=>{var n=r(84326),o=r(45656),i=r(8006).f,s=r(41589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===n(t)?function(t){try{return i(t)}catch(t){return s(a)}}(t):i(o(t))}},79518:(t,e,r)=>{var n=r(92597),o=r(60614),i=r(47908),s=r(6200),a=r(49920),l=s("IE_PROTO"),c=Object,u=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=i(t);if(n(e,l))return e[l];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof c?u:null}},27674:(t,e,r)=>{var n=r(75668),o=r(19670),i=r(96077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},90288:(t,e,r)=>{var n=r(51694),o=r(70648);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},40857:(t,e,r)=>{var n=r(17854);t.exports=n},58003:(t,e,r)=>{var n=r(3070).f,o=r(92597),i=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,i)&&n(t,i,{configurable:!0,value:e})}},53111:(t,e,r)=>{var n=r(1702),o=r(84488),i=r(41340),s=r(81361),a=n("".replace),l=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(t){return function(e){var r=i(o(e));return 1&t&&(r=a(r,l,"")),2&t&&(r=a(r,c,"$1")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},56532:(t,e,r)=>{var n=r(46916),o=r(35005),i=r(5112),s=r(98052);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=i("toPrimitive");e&&!e[a]&&s(e,a,(function(t){return n(r,this)}),{arity:1})}},2015:(t,e,r)=>{var n=r(36293);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},50863:(t,e,r)=>{var n=r(1702);t.exports=n(1..valueOf)},26800:(t,e,r)=>{var n=r(40857),o=r(92597),i=r(6061),s=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},6061:(t,e,r)=>{var n=r(5112);e.f=n},81361:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},66992:(t,e,r)=>{var n=r(45656),o=r(51223),i=r(97497),s=r(29909),a=r(3070).f,l=r(51656),c=r(76178),u=r(31913),p=r(19781),f="Array Iterator",h=s.set,d=s.getterFor(f);t.exports=l(Array,"Array",(function(t,e){h(this,{type:f,target:n(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,r=t.kind,n=t.index++;if(!e||n>=e.length)return t.target=void 0,c(void 0,!0);switch(r){case"keys":return c(n,!1);case"values":return c(e[n],!1)}return c([n,e[n]],!1)}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&p&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(t){}},96078:(t,e,r)=>{var n=r(92597),o=r(98052),i=r(38709),s=r(5112)("toPrimitive"),a=Date.prototype;n(a,s)||o(a,s,i)},38862:(t,e,r)=>{var n=r(82109),o=r(35005),i=r(22104),s=r(46916),a=r(1702),l=r(47293),c=r(60614),u=r(52190),p=r(50206),f=r(88044),h=r(36293),d=String,m=o("JSON","stringify"),g=a(/./.exec),y=a("".charAt),v=a("".charCodeAt),b=a("".replace),w=a(1..toString),S=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,O=!h||l((function(){var t=o("Symbol")("stringify detection");return"[null]"!==m([t])||"{}"!==m({a:t})||"{}"!==m(Object(t))})),M=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),N=function(t,e){var r=p(arguments),n=f(e);if(c(n)||void 0!==t&&!u(t))return r[1]=function(t,e){if(c(n)&&(e=s(n,this,d(t),e)),!u(e))return e},i(m,null,r)},L=function(t,e,r){var n=y(r,e-1),o=y(r,e+1);return g(k,t)&&!g(x,o)||g(x,t)&&!g(k,n)?"\\u"+w(v(t,0),16):t};m&&n({target:"JSON",stat:!0,arity:3,forced:O||M},{stringify:function(t,e,r){var n=p(arguments),o=i(O?N:m,null,n);return M&&"string"==typeof o?b(o,S,L):o}})},9653:(t,e,r)=>{var n=r(82109),o=r(31913),i=r(19781),s=r(17854),a=r(40857),l=r(1702),c=r(54705),u=r(92597),p=r(79587),f=r(47976),h=r(52190),d=r(57593),m=r(47293),g=r(8006).f,y=r(31236).f,v=r(3070).f,b=r(50863),w=r(53111).trim,S="Number",k=s[S],x=a[S],O=k.prototype,M=s.TypeError,N=l("".slice),L=l("".charCodeAt),C=function(t){var e,r,n,o,i,s,a,l,c=d(t,"number");if(h(c))throw new M("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(e=L(c,0))||45===e){if(88===(r=L(c,2))||120===r)return NaN}else if(48===e){switch(L(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(s=(i=N(c,2)).length,a=0;a<s;a++)if((l=L(i,a))<48||l>o)return NaN;return parseInt(i,n)}return+c},I=c(S,!k(" 0o1")||!k("0b1")||k("+0x1")),E=function(t){var e,r=arguments.length<1?0:k(function(t){var e=d(t,"number");return"bigint"==typeof e?e:C(e)}(t));return f(O,e=this)&&m((function(){b(e)}))?p(Object(r),this,E):r};E.prototype=O,I&&!o&&(O.constructor=E),n({global:!0,constructor:!0,wrap:!0,forced:I},{Number:E});var T=function(t,e){for(var r,n=i?g(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;n.length>o;o++)u(e,r=n[o])&&!u(t,r)&&v(t,r,y(e,r))};o&&x&&T(a[S],x),(I||o)&&T(a[S],k)},19601:(t,e,r)=>{var n=r(82109),o=r(21574);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},69070:(t,e,r)=>{var n=r(82109),o=r(19781),i=r(3070).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},29660:(t,e,r)=>{var n=r(82109),o=r(36293),i=r(47293),s=r(25181),a=r(47908);n({target:"Object",stat:!0,forced:!o||i((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},41539:(t,e,r)=>{var n=r(51694),o=r(98052),i=r(90288);n||o(Object.prototype,"toString",i,{unsafe:!0})},78783:(t,e,r)=>{var n=r(28710).charAt,o=r(41340),i=r(29909),s=r(51656),a=r(76178),l="String Iterator",c=i.set,u=i.getterFor(l);s(String,"String",(function(t){c(this,{type:l,string:o(t),index:0})}),(function(){var t,e=u(this),r=e.string,o=e.index;return o>=r.length?a(void 0,!0):(t=n(r,o),e.index+=t.length,a(t,!1))}))},4032:(t,e,r)=>{var n=r(82109),o=r(17854),i=r(46916),s=r(1702),a=r(31913),l=r(19781),c=r(36293),u=r(47293),p=r(92597),f=r(47976),h=r(19670),d=r(45656),m=r(34948),g=r(41340),y=r(79114),v=r(70030),b=r(81956),w=r(8006),S=r(1156),k=r(25181),x=r(31236),O=r(3070),M=r(36048),N=r(55296),L=r(98052),C=r(47045),I=r(72309),E=r(6200),T=r(3501),R=r(69711),_=r(5112),A=r(6061),j=r(26800),F=r(56532),P=r(58003),J=r(29909),D=r(42092).forEach,B=E("hidden"),z="Symbol",Y="prototype",H=J.set,$=J.getterFor(z),W=Object[Y],V=o.Symbol,G=V&&V[Y],U=o.RangeError,q=o.TypeError,X=o.QObject,K=x.f,Q=O.f,Z=S.f,tt=N.f,et=s([].push),rt=I("symbols"),nt=I("op-symbols"),ot=I("wks"),it=!X||!X[Y]||!X[Y].findChild,st=function(t,e,r){var n=K(W,e);n&&delete W[e],Q(t,e,r),n&&t!==W&&Q(W,e,n)},at=l&&u((function(){return 7!==v(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?st:Q,lt=function(t,e){var r=rt[t]=v(G);return H(r,{type:z,tag:t,description:e}),l||(r.description=e),r},ct=function(t,e,r){t===W&&ct(nt,e,r),h(t);var n=m(e);return h(r),p(rt,n)?(r.enumerable?(p(t,B)&&t[B][n]&&(t[B][n]=!1),r=v(r,{enumerable:y(0,!1)})):(p(t,B)||Q(t,B,y(1,{})),t[B][n]=!0),at(t,n,r)):Q(t,n,r)},ut=function(t,e){h(t);var r=d(e),n=b(r).concat(dt(r));return D(n,(function(e){l&&!i(pt,r,e)||ct(t,e,r[e])})),t},pt=function(t){var e=m(t),r=i(tt,this,e);return!(this===W&&p(rt,e)&&!p(nt,e))&&(!(r||!p(this,e)||!p(rt,e)||p(this,B)&&this[B][e])||r)},ft=function(t,e){var r=d(t),n=m(e);if(r!==W||!p(rt,n)||p(nt,n)){var o=K(r,n);return!o||!p(rt,n)||p(r,B)&&r[B][n]||(o.enumerable=!0),o}},ht=function(t){var e=Z(d(t)),r=[];return D(e,(function(t){p(rt,t)||p(T,t)||et(r,t)})),r},dt=function(t){var e=t===W,r=Z(e?nt:d(t)),n=[];return D(r,(function(t){!p(rt,t)||e&&!p(W,t)||et(n,rt[t])})),n};c||(L(G=(V=function(){if(f(G,this))throw new q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=R(t),r=function(t){this===W&&i(r,nt,t),p(this,B)&&p(this[B],e)&&(this[B][e]=!1);var n=y(1,t);try{at(this,e,n)}catch(t){if(!(t instanceof U))throw t;st(this,e,n)}};return l&&it&&at(W,e,{configurable:!0,set:r}),lt(e,t)})[Y],"toString",(function(){return $(this).tag})),L(V,"withoutSetter",(function(t){return lt(R(t),t)})),N.f=pt,O.f=ct,M.f=ut,x.f=ft,w.f=S.f=ht,k.f=dt,A.f=function(t){return lt(_(t),t)},l&&(C(G,"description",{configurable:!0,get:function(){return $(this).description}}),a||L(W,"propertyIsEnumerable",pt,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),D(b(ot),(function(t){j(t)})),n({target:z,stat:!0,forced:!c},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(t,e){return void 0===e?v(t):ut(v(t),e)},defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ht}),F(),P(V,z),T[B]=!0},41817:(t,e,r)=>{var n=r(82109),o=r(19781),i=r(17854),s=r(1702),a=r(92597),l=r(60614),c=r(47976),u=r(41340),p=r(47045),f=r(99920),h=i.Symbol,d=h&&h.prototype;if(o&&l(h)&&(!("description"in d)||void 0!==h().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=c(d,this)?new h(t):void 0===t?h():h(t);return""===t&&(m[e]=!0),e};f(g,h),g.prototype=d,d.constructor=g;var y="Symbol(description detection)"===String(h("description detection")),v=s(d.valueOf),b=s(d.toString),w=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),k=s("".slice);p(d,"description",{configurable:!0,get:function(){var t=v(this);if(a(m,t))return"";var e=b(t),r=y?k(e,7,-1):S(e,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},40763:(t,e,r)=>{var n=r(82109),o=r(35005),i=r(92597),s=r(41340),a=r(72309),l=r(2015),c=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{for:function(t){var e=s(t);if(i(c,e))return c[e];var r=o("Symbol")(e);return c[e]=r,u[r]=e,r}})},32165:(t,e,r)=>{r(26800)("iterator")},82526:(t,e,r)=>{r(4032),r(40763),r(26620),r(38862),r(29660)},26620:(t,e,r)=>{var n=r(82109),o=r(92597),i=r(52190),s=r(66330),a=r(72309),l=r(2015),c=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{keyFor:function(t){if(!i(t))throw new TypeError(s(t)+" is not a symbol");if(o(c,t))return c[t]}})},96649:(t,e,r)=>{var n=r(26800),o=r(56532);n("toPrimitive"),o()},33948:(t,e,r)=>{var n=r(17854),o=r(48324),i=r(98509),s=r(66992),a=r(68880),l=r(5112),c=l("iterator"),u=l("toStringTag"),p=s.values,f=function(t,e){if(t){if(t[c]!==p)try{a(t,c,p)}catch(e){t[c]=p}if(t[u]||a(t,u,e),o[e])for(var r in s)if(t[r]!==s[r])try{a(t,r,s[r])}catch(e){t[r]=s[r]}}};for(var h in o)f(n[h]&&n[h].prototype,h);f(i,"DOMTokenList")},50849:(t,e,r)=>{Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=r(57888);let o;const i=[];let s;n.subscribe("csrf-token-update",(t=>{o=t.token,i.forEach((t=>{try{t(o)}catch(t){console.error("error updating CSRF token observer",t)}}))}));const a=(t,e)=>t?t.getAttribute(e):null;e.getCurrentUser=function(){if(void 0!==s)return s;const t=document?.getElementsByTagName("head")[0];if(!t)return null;const e=a(t,"data-user");return null===e?(s=null,s):(s={uid:e,displayName:a(t,"data-user-displayname"),isAdmin:!!window._oc_isadmin},s)},e.getRequestToken=function(){if(void 0===o){const t=document?.getElementsByTagName("head")[0];o=t?t.getAttribute("data-requesttoken"):null}return o},e.onRequestTokenUpdate=function(t){i.push(t)}},57888:(t,e,r)=>{Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=r(77907),o=r(92426),i=t=>t&&t.__esModule?t:{default:t},s=i(n),a=i(o);class l{bus;constructor(t){"function"==typeof t.getVersion&&s.default(t.getVersion())?a.default(t.getVersion())!==a.default(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()):console.warn("Proxying an event bus with an unknown or invalid version"),this.bus=t}getVersion(){return"3.3.1"}subscribe(t,e){this.bus.subscribe(t,e)}unsubscribe(t,e){this.bus.unsubscribe(t,e)}emit(t,e){this.bus.emit(t,e)}}class c{handlers=new Map;getVersion(){return"3.3.1"}subscribe(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).concat(e))}unsubscribe(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).filter((t=>t!==e)))}emit(t,e){(this.handlers.get(t)||[]).forEach((t=>{try{t(e)}catch(t){console.error("could not invoke event listener",t)}}))}}let u=null;function p(){return null!==u?u:"undefined"==typeof window?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&void 0===window._nc_event_bus&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),u=void 0!==window?._nc_event_bus?new l(window._nc_event_bus):window._nc_event_bus=new c,u)}e.ProxyBus=l,e.SimpleBus=c,e.emit=function(t,e){p().emit(t,e)},e.subscribe=function(t,e){p().subscribe(t,e)},e.unsubscribe=function(t,e){p().unsubscribe(t,e)}},66183:(t,e,r)=>{r.d(e,{a:()=>l,e:()=>a,g:()=>c,s:()=>u});var n=r(62556),o=r(59673),i=r(32859);const s=(0,n.Kc)("nextcloud-vue").persist(!0).build();const a=(t,e=10)=>{const r=new o.EmojiIndex(i),n=c();let s;return t?(s=r.search(":".concat(t),e),s.length<e&&(s=s.concat(r.search(t,e-s.length)))):s=o.frequently.get(e).map((t=>r.emoji(t)))||[],s.map((t=>t.getSkin(n)))},l=function(t){o.frequently.add(t)},c=()=>{var t;const e=Number.parseInt(null!=(t=s.getItem("NcEmojiPicker::currentSkinTone"))?t:"1");return Math.min(Math.max(e,1),6)},u=t=>{t=Math.min(Math.max(t,1),6),s.setItem("NcEmojiPicker::currentSkinTone",t.toString())}},16560:(t,e,r)=>{r.d(e,{Ax:()=>O,FC:()=>v,GJ:()=>L,Mn:()=>M,Pu:()=>y,dR:()=>I,k9:()=>S,nd:()=>k,nj:()=>C,vs:()=>l,wx:()=>Y});var n=r(87823);const o=Math.pow(2,16);function i(t){return 65535&t}class s{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class a{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&a.empty)return a.empty}recover(t){let e=0,r=i(t);if(!this.inverted)for(let t=0;t<r;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*r]+e+function(t){return(t-(65535&t))/o}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let n=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>t)break;let u=this.ranges[l+i],p=this.ranges[l+a],f=c+u;if(t<=f){let i=c+n+((u?t==c?-1:t==f?1:e:e)<0?0:p);if(r)return i;let a=t==(e<0?c:f)?null:l/3+(t-c)*o,h=t==c?2:t==f?1:4;return(e<0?t!=c:t!=f)&&(h|=8),new s(i,h,a)}n+=p-u}return r?t+n:new s(t+n,0,null)}touches(t,e){let r=0,n=i(e),o=this.inverted?2:1,s=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let i=this.ranges[e]-(this.inverted?r:0);if(i>t)break;let a=this.ranges[e+o];if(t<=i+a&&e==3*n)return!0;r+=this.ranges[e+s]-a}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let n=0,o=0;n<this.ranges.length;n+=3){let i=this.ranges[n],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[n+e],c=this.ranges[n+r];t(s,s+l,a,a+c),o+=c-l}}invert(){return new a(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?a.empty:new a(t<0?[0,-t,0]:[0,0,t])}}a.empty=new a([]);class l{constructor(t=[],e,r=0,n=t.length){this.maps=t,this.mirror=e,this.from=r,this.to=n}slice(t=0,e=this.maps.length){return new l(this.maps,this.mirror,t,e)}copy(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,r=this.maps.length;e<t.maps.length;e++){let n=t.getMirror(e);this.appendMap(t.maps[e],null!=n&&n<e?r+n:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){let n=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=n&&n>e?r-n-1:void 0)}}invert(){let t=new l;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let n=0;for(let r=this.from;r<this.to;r++){let o=this.maps[r].mapResult(t,e);if(null!=o.recover){let e=this.getMirror(r);if(null!=e&&e>r&&e<this.to){r=e,t=this.maps[e].recover(o.recover);continue}}n|=o.delInfo,t=o.pos}return r?t:new s(t,n,null)}}const c=Object.create(null);class u{getMap(){return a.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=c[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in c)throw new RangeError("Duplicate use of step JSON ID "+t);return c[t]=e,e.prototype.jsonID=t,e}}class p{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new p(t,null)}static fail(t){return new p(null,t)}static fromReplace(t,e,r,o){try{return p.ok(t.replace(e,r,o))}catch(t){if(t instanceof n.e4)return p.fail(t.message);throw t}}}function f(t,e,r){let o=[];for(let n=0;n<t.childCount;n++){let i=t.child(n);i.content.size&&(i=i.copy(f(i.content,e,i))),i.isInline&&(i=e(i,r,n)),o.push(i)}return n.HY.fromArray(o)}class h extends u{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new n.p2(f(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),o),e.openStart,e.openEnd);return p.fromReplace(t,this.from,this.to,i)}invert(){return new d(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new h(e.pos,r.pos,this.mark)}merge(t){return t instanceof h&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new h(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new h(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("addMark",h);class d extends u{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new n.p2(f(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return p.fromReplace(t,this.from,this.to,r)}invert(){return new h(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new d(e.pos,r.pos,this.mark)}merge(t){return t instanceof d&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new d(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new d(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("removeMark",d);class m extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return p.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return p.fromReplace(t,this.pos,this.pos+1,new n.p2(n.HY.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(t))return new m(this.pos,e.marks[r]);return new m(this.pos,this.mark)}}return new g(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new m(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new m(e.pos,t.markFromJSON(e.mark))}}u.jsonID("addNodeMark",m);class g extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return p.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return p.fromReplace(t,this.pos,this.pos+1,new n.p2(n.HY.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new m(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new g(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new g(e.pos,t.markFromJSON(e.mark))}}u.jsonID("removeNodeMark",g);class y extends u{constructor(t,e,r,n=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=n}apply(t){return this.structure&&b(t,this.from,this.to)?p.fail("Structure replace would overwrite content"):p.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new a([this.from,this.to-this.from,this.slice.size])}invert(t){return new y(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new y(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof y)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?n.p2.empty:new n.p2(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new y(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?n.p2.empty:new n.p2(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new y(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new y(e.from,e.to,n.p2.fromJSON(t,e.slice),!!e.structure)}}u.jsonID("replace",y);class v extends u{constructor(t,e,r,n,o,i,s=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=n,this.slice=o,this.insert=i,this.structure=s}apply(t){if(this.structure&&(b(t,this.from,this.gapFrom)||b(t,this.gapTo,this.to)))return p.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return p.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?p.fromReplace(t,this.from,this.to,r):p.fail("Content does not fit in gap")}getMap(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new v(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),n=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||n<e.pos||o>r.pos?null:new v(e.pos,r.pos,n,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new v(e.from,e.to,e.gapFrom,e.gapTo,n.p2.fromJSON(t,e.slice),e.insert,!!e.structure)}}function b(t,e,r){let n=t.resolve(e),o=r-e,i=n.depth;for(;o>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,o--;if(o>0){let t=n.node(i).maybeChild(n.indexAfter(i));for(;o>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,o--}}return!1}function w(t,e,r){return(0==e||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function S(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let n=t.$from.node(r),o=t.$from.index(r),i=t.$to.indexAfter(r);if(r<t.depth&&n.canReplace(o,i,e))return r;if(0==r||n.type.spec.isolating||!w(n,o,i))break}return null}function k(t,e,r=null,n=t){let o=function(t,e){let{parent:r,startIndex:n,endIndex:o}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return r.canReplaceWith(n,o,s)?i:null}(t,e),i=o&&function(t,e){let{parent:r,startIndex:n,endIndex:o}=t,i=r.child(n),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let t=n;a&&t<o;t++)a=a.matchType(r.child(t).type);return a&&a.validEnd?s:null}(n,e);return i?o.map(x).concat({type:e,attrs:r}).concat(i.map(x)):null}function x(t){return{type:t,attrs:null}}function O(t,e,r=1,n){let o=t.resolve(e),i=o.depth-r,s=n&&n[n.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let t=o.depth-1,e=r-2;t>i;t--,e--){let r=o.node(t),i=o.index(t);if(r.type.spec.isolating)return!1;let s=r.content.cutByIndex(i,r.childCount),a=n&&n[e]||r;if(a!=r&&(s=s.replaceChild(0,a.type.create(a.attrs))),!r.canReplace(i+1,r.childCount)||!a.type.validContent(s))return!1}let a=o.indexAfter(i),l=n&&n[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function M(t,e){let r=t.resolve(e),n=r.index();return N(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function N(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function L(t,e,r=-1){let n=t.resolve(e);for(let t=n.depth;;t--){let o,i,s=n.index(t);if(t==n.depth?(o=n.nodeBefore,i=n.nodeAfter):r>0?(o=n.node(t+1),s++,i=n.node(t).maybeChild(s)):(o=n.node(t).maybeChild(s-1),i=n.node(t+1)),o&&!o.isTextblock&&N(o,i)&&n.node(t).canReplace(s,s+1))return e;if(0==t)break;e=r<0?n.before(t):n.after(t)}}function C(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let o=r.content;for(let t=0;t<r.openStart;t++)o=o.firstChild.content;for(let t=1;t<=(0==r.openStart&&r.size?2:1);t++)for(let e=n.depth;e>=0;e--){let r=e==n.depth?0:n.pos<=(n.start(e+1)+n.end(e+1))/2?-1:1,i=n.index(e)+(r>0?1:0),s=n.node(e),a=!1;if(1==t)a=s.canReplace(i,i,o);else{let t=s.contentMatchAt(i).findWrapping(o.firstChild.type);a=t&&s.canReplaceWith(i,i,t[0])}if(a)return 0==r?n.pos:r<0?n.before(e+1):n.after(e+1)}return null}function I(t,e,r=e,o=n.p2.empty){if(e==r&&!o.size)return null;let i=t.resolve(e),s=t.resolve(r);return E(i,s,o)?new y(e,r,o):new T(i,s,o).fit()}function E(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}u.jsonID("replaceAround",v);class T{constructor(t,e,r){this.$from=t,this.$to=e,this.unplaced=r,this.frontier=[],this.placed=n.HY.empty;for(let e=0;e<=t.depth;e++){let r=t.node(e);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=n.HY.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;let l=new n.p2(i,s,a);return t>-1?new v(r.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||r.pos!=this.$to.pos?new y(r.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,r=0,n=this.unplaced.openEnd;r<t;r++){let o=e.firstChild;if(e.childCount>1&&(n=0),o.type.spec.isolating&&n<=r){t=r;break}e=o.content}for(let e=1;e<=2;e++)for(let r=1==e?t:this.unplaced.openStart;r>=0;r--){let t,o=null;r?(o=A(this.unplaced.content,r-1).firstChild,t=o.content):t=this.unplaced.content;let i=t.firstChild;for(let t=this.depth;t>=0;t--){let s,{type:a,match:l}=this.frontier[t],c=null;if(1==e&&(i?l.matchType(i.type)||(c=l.fillBefore(n.HY.from(i),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:t,parent:o,inject:c};if(2==e&&i&&(s=l.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:t,parent:o,wrap:s};if(o&&l.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:r}=this.unplaced,o=A(t,e);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new n.p2(t,e+1,Math.max(r,o.size+e>=t.size-r?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:r}=this.unplaced,o=A(t,e);if(o.childCount<=1&&e>0){let i=t.size-e<=e+o.size;this.unplaced=new n.p2(R(t,e-1,1),e-1,i?e-1:r)}else this.unplaced=new n.p2(R(t,e,1),e,r)}placeNodes({sliceDepth:t,frontierDepth:e,parent:r,inject:o,wrap:i}){for(;this.depth>e;)this.closeFrontierNode();if(i)for(let t=0;t<i.length;t++)this.openFrontierNode(i[t]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:p,type:f}=this.frontier[e];if(o){for(let t=0;t<o.childCount;t++)u.push(o.child(t));p=p.matchFragment(o)}let h=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let t=a.child(c),e=p.matchType(t.type);if(!e)break;c++,(c>1||0==l||t.content.size)&&(p=e,u.push(j(t.mark(f.allowedMarks(t.marks)),1==c?l:0,c==a.childCount?h:-1)))}let d=c==a.childCount;d||(h=-1),this.placed=_(this.placed,e,n.HY.from(u)),this.frontier[e].match=p,d&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,e=a;t<h;t++){let t=e.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=d?0==t?n.p2.empty:new n.p2(R(s.content,t-1,1),t-1,h<0?s.openEnd:t-1):new n.p2(R(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!F(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,n=this.$to.after(r);for(;r>1&&n==this.$to.end(--r);)++n;return n}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:r,type:n}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),i=F(t,e,n,r,o);if(i){for(let r=e-1;r>=0;r--){let{match:e,type:n}=this.frontier[r],o=F(t,r,n,e,!0);if(!o||o.childCount)continue t}return{depth:e,fit:i,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=_(this.placed,e.depth,e.fit)),t=e.move;for(let r=e.depth+1;r<=t.depth;r++){let e=t.node(r),n=e.type.contentMatch.fillBefore(e.content,!0,t.index(r));this.openFrontierNode(e.type,e.attrs,n)}return t}openFrontierNode(t,e=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=_(this.placed,this.depth,n.HY.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(n.HY.empty,!0);t.childCount&&(this.placed=_(this.placed,this.frontier.length,t))}}function R(t,e,r){return 0==e?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(R(t.firstChild.content,e-1,r)))}function _(t,e,r){return 0==e?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(_(t.lastChild.content,e-1,r)))}function A(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function j(t,e,r){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,j(o.firstChild,e-1,1==o.childCount?r-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),r<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(n.HY.empty,!0)))),t.copy(o)}function F(t,e,r,n,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!r.compatibleContent(i.type))return null;let a=n.fillBefore(i.content,!0,s);return a&&!function(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}(r,i.content,s)?a:null}function P(t){return t.spec.defining||t.spec.definingForContent}function J(t,e,r,o,i){if(e<r){let n=t.firstChild;t=t.replaceChild(0,n.copy(J(n.content,e+1,r,o,n)))}if(e>o){let e=i.contentMatchAt(0),r=e.fillBefore(t).append(t);t=r.append(e.matchFragment(r).fillBefore(n.HY.empty,!0))}return t}function D(t,e){let r=[];for(let n=Math.min(t.depth,e.depth);n>=0;n--){let o=t.start(n);if(o<t.pos-(t.depth-n)||e.end(n)>e.pos+(e.depth-n)||t.node(n).type.spec.isolating||e.node(n).type.spec.isolating)break;(o==e.start(n)||n==t.depth&&n==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&n&&e.start(n-1)==o-1)&&r.push(n)}return r}class B extends u{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return p.fail("No node at attribute step's position");let r=Object.create(null);for(let t in e.attrs)r[t]=e.attrs[t];r[this.attr]=this.value;let o=e.type.create(r,null,e.marks);return p.fromReplace(t,this.pos,this.pos+1,new n.p2(n.HY.from(o),0,e.isLeaf?0:1))}getMap(){return a.empty}invert(t){return new B(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new B(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new B(e.pos,e.attr,e.value)}}u.jsonID("attr",B);let z=class extends Error{};z=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r},(z.prototype=Object.create(Error.prototype)).constructor=z,z.prototype.name="TransformError";class Y{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new l}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new z(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,r=n.p2.empty){let o=I(this.doc,t,e,r);return o&&this.step(o),this}replaceWith(t,e,r){return this.replace(t,e,new n.p2(n.HY.from(r),0,0))}delete(t,e){return this.replace(t,e,n.p2.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,r){return function(t,e,r,o){if(!o.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),s=t.doc.resolve(r);if(E(i,s,o))return t.step(new y(e,r,o));let a=D(i,t.doc.resolve(r));0==a[a.length-1]&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let t=i.depth,e=i.pos-1;t>0;t--,e--){let r=i.node(t).type.spec;if(r.defining||r.definingAsContext||r.isolating)break;a.indexOf(t)>-1?l=t:i.before(t)==e&&a.splice(1,0,-t)}let c=a.indexOf(l),u=[],p=o.openStart;for(let t=o.content,e=0;;e++){let r=t.firstChild;if(u.push(r),e==o.openStart)break;t=r.content}for(let t=p-1;t>=0;t--){let e=u[t].type,r=P(e);if(r&&i.node(c).type!=e)p=t;else if(r||!e.isTextblock)break}for(let e=o.openStart;e>=0;e--){let l=(e+p+1)%(o.openStart+1),f=u[l];if(f)for(let e=0;e<a.length;e++){let u=a[(e+c)%a.length],p=!0;u<0&&(p=!1,u=-u);let h=i.node(u-1),d=i.index(u-1);if(h.canReplaceWith(d,d,f.type,f.marks))return t.replace(i.before(u),p?s.after(u):r,new n.p2(J(o.content,0,o.openStart,l),l,o.openEnd))}}let f=t.steps.length;for(let n=a.length-1;n>=0&&(t.replace(e,r,o),!(t.steps.length>f));n--){let t=a[n];t<0||(e=i.before(t),r=s.after(t))}}(this,t,e,r),this}replaceRangeWith(t,e,r){return function(t,e,r,o){if(!o.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let n=function(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(0==n.parentOffset)for(let t=n.depth-1;t>=0;t--){let e=n.index(t);if(n.node(t).canReplaceWith(e,e,r))return n.before(t+1);if(e>0)return null}if(n.parentOffset==n.parent.content.size)for(let t=n.depth-1;t>=0;t--){let e=n.indexAfter(t);if(n.node(t).canReplaceWith(e,e,r))return n.after(t+1);if(e<n.node(t).childCount)return null}return null}(t.doc,e,o.type);null!=n&&(e=r=n)}t.replaceRange(e,r,new n.p2(n.HY.from(o),0,0))}(this,t,e,r),this}deleteRange(t,e){return function(t,e,r){let n=t.doc.resolve(e),o=t.doc.resolve(r),i=D(n,o);for(let e=0;e<i.length;e++){let r=i[e],s=e==i.length-1;if(s&&0==r||n.node(r).type.contentMatch.validEnd)return t.delete(n.start(r),o.end(r));if(r>0&&(s||n.node(r-1).canReplace(n.index(r-1),o.indexAfter(r-1))))return t.delete(n.before(r),o.after(r))}for(let i=1;i<=n.depth&&i<=o.depth;i++)if(e-n.start(i)==n.depth-i&&r>n.end(i)&&o.end(i)-r!=o.depth-i)return t.delete(n.before(i),r);t.delete(e,r)}(this,t,e),this}lift(t,e){return function(t,e,r){let{$from:o,$to:i,depth:s}=e,a=o.before(s+1),l=i.after(s+1),c=a,u=l,p=n.HY.empty,f=0;for(let t=s,e=!1;t>r;t--)e||o.index(t)>0?(e=!0,p=n.HY.from(o.node(t).copy(p)),f++):c--;let h=n.HY.empty,d=0;for(let t=s,e=!1;t>r;t--)e||i.after(t+1)<i.end(t)?(e=!0,h=n.HY.from(i.node(t).copy(h)),d++):u++;t.step(new v(c,u,a,l,new n.p2(p.append(h),f,d),p.size-f,!0))}(this,t,e),this}join(t,e=1){return function(t,e,r){let o=new y(e-r,e+r,n.p2.empty,!0);t.step(o)}(this,t,e),this}wrap(t,e){return function(t,e,r){let o=n.HY.empty;for(let t=r.length-1;t>=0;t--){if(o.size){let e=r[t].type.contentMatch.matchFragment(o);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=n.HY.from(r[t].type.create(r[t].attrs,o))}let i=e.start,s=e.end;t.step(new v(i,s,i,s,new n.p2(o,0,0),r.length,!0))}(this,t,e),this}setBlockType(t,e=t,r,o=null){return function(t,e,r,o,i){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,((e,r)=>{if(e.isTextblock&&!e.hasMarkup(o,i)&&function(t,e,r){let n=t.resolve(e),o=n.index();return n.parent.canReplaceWith(o,o+1,r)}(t.doc,t.mapping.slice(s).map(r),o)){t.clearIncompatible(t.mapping.slice(s).map(r,1),o);let a=t.mapping.slice(s),l=a.map(r,1),c=a.map(r+e.nodeSize,1);return t.step(new v(l,c,l+1,c-1,new n.p2(n.HY.from(o.create(i,null,e.marks)),0,0),1,!0)),!1}}))}(this,t,e,r,o),this}setNodeMarkup(t,e,r=null,o){return function(t,e,r,o,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let a=r.create(o,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new v(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new n.p2(n.HY.from(a),0,0),1,!0))}(this,t,e,r,o),this}setNodeAttribute(t,e,r){return this.step(new B(t,e,r)),this}addNodeMark(t,e){return this.step(new m(t,e)),this}removeNodeMark(t,e){if(!(e instanceof n.vc)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(!(e=e.isInSet(r.marks)))return this}return this.step(new g(t,e)),this}split(t,e=1,r){return function(t,e,r=1,o){let i=t.doc.resolve(e),s=n.HY.empty,a=n.HY.empty;for(let t=i.depth,e=i.depth-r,l=r-1;t>e;t--,l--){s=n.HY.from(i.node(t).copy(s));let e=o&&o[l];a=n.HY.from(e?e.type.create(e.attrs,a):i.node(t).copy(a))}t.step(new y(e,e,new n.p2(s.append(a),r,r),!0))}(this,t,e,r),this}addMark(t,e,r){return function(t,e,r,n){let o,i,s=[],a=[];t.doc.nodesBetween(e,r,((t,l,c)=>{if(!t.isInline)return;let u=t.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){let c=Math.max(l,e),p=Math.min(l+t.nodeSize,r),f=n.addToSet(u);for(let t=0;t<u.length;t++)u[t].isInSet(f)||(o&&o.to==c&&o.mark.eq(u[t])?o.to=p:s.push(o=new d(c,p,u[t])));i&&i.to==c?i.to=p:a.push(i=new h(c,p,n))}})),s.forEach((e=>t.step(e))),a.forEach((e=>t.step(e)))}(this,t,e,r),this}removeMark(t,e,r){return function(t,e,r,o){let i=[],s=0;t.doc.nodesBetween(e,r,((t,a)=>{if(!t.isInline)return;s++;let l=null;if(o instanceof n.ZU){let e,r=t.marks;for(;e=o.isInSet(r);)(l||(l=[])).push(e),r=e.removeFromSet(r)}else o?o.isInSet(t.marks)&&(l=[o]):l=t.marks;if(l&&l.length){let n=Math.min(a+t.nodeSize,r);for(let t=0;t<l.length;t++){let r,o=l[t];for(let t=0;t<i.length;t++){let e=i[t];e.step==s-1&&o.eq(i[t].style)&&(r=e)}r?(r.to=n,r.step=s):i.push({style:o,from:Math.max(a,e),to:n,step:s})}}})),i.forEach((e=>t.step(new d(e.from,e.to,e.style))))}(this,t,e,r),this}clearIncompatible(t,e,r){return function(t,e,r,o=r.contentMatch){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let e=0;e<i.childCount;e++){let l=i.child(e),c=a+l.nodeSize,u=o.matchType(l.type);if(u){o=u;for(let e=0;e<l.marks.length;e++)r.allowsMarkType(l.marks[e].type)||t.step(new d(a,c,l.marks[e]))}else s.push(new y(a,c,n.p2.empty));a=c}if(!o.validEnd){let e=o.fillBefore(n.HY.empty,!0);t.replace(a,a,new n.p2(e,0,0))}for(let e=s.length-1;e>=0;e--)t.step(s[e])}(this,t,e,r),this}}}}]);
//# sourceMappingURL=vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_vue_dist_chunks_em-6b8e93.js.map?v=59768a66a7e9383f7f39