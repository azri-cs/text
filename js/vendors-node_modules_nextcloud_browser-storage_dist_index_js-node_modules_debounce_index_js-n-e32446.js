/*! For license information please see vendors-node_modules_nextcloud_browser-storage_dist_index_js-node_modules_debounce_index_js-n-e32446.js.LICENSE.txt */
(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["vendors-node_modules_nextcloud_browser-storage_dist_index_js-node_modules_debounce_index_js-n-e32446"],{62556:(t,e,n)=>{"use strict";e.Kc=function(t){return new i.default(t)};var i=r(n(71957)),o=r(n(48971));function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){Object.keys(t).filter((t=>!e||e(t))).map(t.removeItem.bind(t))}},48971:(t,e)=>{"use strict";function n(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:i+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class i{constructor(t,e,o){n(this,"scope",void 0),n(this,"wrapped",void 0),this.scope="".concat(o?i.GLOBAL_SCOPE_PERSISTENT:i.GLOBAL_SCOPE_VOLATILE,"_").concat(btoa(t),"_"),this.wrapped=e}scopeKey(t){return"".concat(this.scope).concat(t)}setItem(t,e){this.wrapped.setItem(this.scopeKey(t),e)}getItem(t){return this.wrapped.getItem(this.scopeKey(t))}removeItem(t){this.wrapped.removeItem(this.scopeKey(t))}clear(){Object.keys(this.wrapped).filter((t=>t.startsWith(this.scope))).map(this.wrapped.removeItem.bind(this.wrapped))}}e.default=i,n(i,"GLOBAL_SCOPE_VOLATILE","nextcloud_vol"),n(i,"GLOBAL_SCOPE_PERSISTENT","nextcloud_per")},71957:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=(i=n(48971))&&i.__esModule?i:{default:i};function r(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:i+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=class{constructor(t){r(this,"appId",void 0),r(this,"persisted",!1),r(this,"clearedOnLogout",!1),this.appId=t}persist(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.persisted=t,this}clearOnLogout(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clearedOnLogout=t,this}build(){return new o.default(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}},20296:t=>{function e(t,e=100,n={}){if("function"!=typeof t)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof t}\`.`);if(e<0)throw new RangeError("`wait` must not be negative.");const{immediate:i}="boolean"==typeof n?{immediate:n}:n;let o,r,s,a,u;function l(){const n=Date.now()-a;if(n<e&&n>=0)s=setTimeout(l,e-n);else if(s=void 0,!i){const e=o,n=r;o=void 0,r=void 0,u=t.apply(e,n)}}const c=function(...n){if(o&&this!==o)throw new Error("Debounced method called with different contexts.");o=this,r=n,a=Date.now();const c=i&&!s;if(s||(s=setTimeout(l,e)),c){const e=o,n=r;o=void 0,r=void 0,u=t.apply(e,n)}return u};return c.clear=()=>{s&&(clearTimeout(s),s=void 0)},c.flush=()=>{if(!s)return;const e=o,n=r;o=void 0,r=void 0,u=t.apply(e,n),clearTimeout(s),s=void 0},c}t.exports.debounce=e,t.exports=e},43935:(t,e,n)=>{"use strict";var i=n(34155);function o(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var n,i="",o=0,r=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(r===a-1||1===s);else if(r!==a-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var u=i.lastIndexOf("/");if(u!==i.length-1){-1===u?(i="",o=0):o=(i=i.slice(0,u)).length-1-i.lastIndexOf("/"),r=a,s=0;continue}}else if(2===i.length||1===i.length){i="",o=0,r=a,s=0;continue}e&&(i.length>0?i+="/..":i="..",o=2)}else i.length>0?i+="/"+t.slice(r+1,a):i=t.slice(r+1,a),o=a-r-1;r=a,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var s={resolve:function(){for(var t,e="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(void 0===t&&(t=i.cwd()),a=t),o(a),0!==a.length&&(e=a+"/"+e,n=47===a.charCodeAt(0))}return e=r(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(o(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!e)).length||e||(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return o(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];o(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":s.normalize(t)},relative:function(t,e){if(o(t),o(e),t===e)return"";if((t=s.resolve(t))===(e=s.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var i=t.length,r=i-n,a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var u=e.length-a,l=r<u?r:u,c=-1,d=0;d<=l;++d){if(d===l){if(u>l){if(47===e.charCodeAt(a+d))return e.slice(a+d+1);if(0===d)return e.slice(a+d)}else r>l&&(47===t.charCodeAt(n+d)?c=d:0===d&&(c=0));break}var h=t.charCodeAt(n+d);if(h!==e.charCodeAt(a+d))break;47===h&&(c=d)}var p="";for(d=n+c+1;d<=i;++d)d!==i&&47!==t.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+e.slice(a+c):(a+=c,47===e.charCodeAt(a)&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(o(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,r=!0,s=t.length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!r){i=s;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"//":t.slice(0,i)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');o(t);var n,i=0,r=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,u=-1;for(n=t.length-1;n>=0;--n){var l=t.charCodeAt(n);if(47===l){if(!s){i=n+1;break}}else-1===u&&(s=!1,u=n+1),a>=0&&(l===e.charCodeAt(a)?-1==--a&&(r=n):(a=-1,r=u))}return i===r?r=u:-1===r&&(r=t.length),t.slice(i,r)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){i=n+1;break}}else-1===r&&(s=!1,r=n+1);return-1===r?"":t.slice(i,r)},extname:function(t){o(t);for(var e=-1,n=0,i=-1,r=!0,s=0,a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(47!==u)-1===i&&(r=!1,i=a+1),46===u?-1===e?e=a:1!==s&&(s=1):-1!==e&&(s=-1);else if(!r){n=a+1;break}}return-1===e||-1===i||0===s||1===s&&e===i-1&&e===n+1?"":t.slice(e,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}("/",t)},parse:function(t){o(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n,i=t.charCodeAt(0),r=47===i;r?(e.root="/",n=1):n=0;for(var s=-1,a=0,u=-1,l=!0,c=t.length-1,d=0;c>=n;--c)if(47!==(i=t.charCodeAt(c)))-1===u&&(l=!1,u=c+1),46===i?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1);else if(!l){a=c+1;break}return-1===s||-1===u||0===d||1===d&&s===u-1&&s===a+1?-1!==u&&(e.base=e.name=0===a&&r?t.slice(1,u):t.slice(a,u)):(0===a&&r?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(a,s),e.base=t.slice(a,u)),e.ext=t.slice(s,u)),a>0?e.dir=t.slice(0,a-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,t.exports=s},48588:function(t){var e,n;e=this,n=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function i(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var i=document.createElement("img");i.src=this.options.avatar,i.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(i):t.insertAdjacentElement("afterbegin",i)}if(!0===this.options.close){var o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Close"),o.className="toast-close",o.innerHTML="&#10006;",o.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var r=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&r>360?t.insertAdjacentElement("afterbegin",o):t.appendChild(o)}if(this.options.stopOnFocus&&this.options.duration>0){var s=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){s.removeElement(t)}),s.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),u=n("y",this.options),l="left"==this.options.position?a:"-"+a,c="toastify-top"==this.options.gravity?u:"-"+u;t.style.transform="translate("+l+","+c+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},o={top:15,bottom:15},r=document.getElementsByClassName("toastify"),s=0;s<r.length;s++){t=!0===i(r[s],"toastify-top")?"toastify-top":"toastify-bottom";var a=r[s].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(r[s].style[t]=o[t]+"px",o[t]+=a+15):!0===i(r[s],"toastify-left")?(r[s].style[t]=e[t]+"px",e[t]+=a+15):(r[s].style[t]=n[t]+"px",n[t]+=a+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=n():e.Toastify=n()},20629:(t,e,n)=>{"use strict";n.d(e,{Se:()=>x,ZP:()=>M,nv:()=>E,rn:()=>_,yh:()=>h});var i=("undefined"!=typeof window?window:void 0!==n.g?n.g:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,i=(n=function(e){return e.original===t},e.filter(n)[0]);if(i)return i.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=o(t[n],e)})),r}function r(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function s(t){return null!==t&&"object"==typeof t}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},u={namespaced:{configurable:!0}};u.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.hasChild=function(t){return t in this._children},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){r(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,u);var l=function(t){this.register([],t,!1)};function c(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;c(t.concat(i),e.getChild(i),n.modules[i])}}l.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},l.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},l.prototype.update=function(t){c([],this.root,t)},l.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var o=new a(e,n);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&r(e.modules,(function(e,o){i.register(t.concat(o),e,n)}))},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},l.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var d;var h=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!=typeof window&&window.Vue&&w(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var o=t.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d,this._makeLocalGettersCache=Object.create(null);var r=this,s=this.dispatch,a=this.commit;this.dispatch=function(t,e){return s.call(r,t,e)},this.commit=function(t,e,n){return a.call(r,t,e,n)},this.strict=o;var u=this._modules.root.state;v(this,u,[],this._modules.root),g(this,u),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:d.config.devtools)&&function(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){i.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},p={state:{configurable:!0}};function f(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function m(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;v(t,n,[],t._modules.root,!0),g(t,n,e)}function g(t,e,n){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={};r(o,(function(e,n){s[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:e},computed:s}),d.config.silent=a,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit((function(){i._data.$$state=null})),d.nextTick((function(){return i.$destroy()})))}function v(t,e,n,i,o){var r=!n.length,s=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=i),!r&&!o){var a=y(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){d.set(a,u,i.state)}))}var l=i.context=function(t,e,n){var i=""===e,o={dispatch:i?t.dispatch:function(n,i,o){var r=b(n,i,o),s=r.payload,a=r.options,u=r.type;return a&&a.root||(u=e+u),t.dispatch(u,s)},commit:i?t.commit:function(n,i,o){var r=b(n,i,o),s=r.payload,a=r.options,u=r.type;a&&a.root||(u=e+u),t.commit(u,s,a)}};return Object.defineProperties(o,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,i)===e){var r=o.slice(i);Object.defineProperty(n,r,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return y(t.state,n)}}}),o}(t,s,n);i.forEachMutation((function(e,n){!function(t,e,n,i){var o=t._mutations[e]||(t._mutations[e]=[]);o.push((function(e){n.call(t,i.state,e)}))}(t,s+n,e,l)})),i.forEachAction((function(e,n){var i=e.root?n:s+n,o=e.handler||e;!function(t,e,n,i){var o=t._actions[e]||(t._actions[e]=[]);o.push((function(e){var o=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return function(t){return t&&"function"==typeof t.then}(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,i,o,l)})),i.forEachGetter((function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,s+n,e,l)})),i.forEachChild((function(i,r){v(t,e,n.concat(r),i,o)}))}function y(t,e){return e.reduce((function(t,e){return t[e]}),t)}function b(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function w(t){d&&t===d||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(d=t)}p.state.get=function(){return this._vm._data.$$state},p.state.set=function(t){0},h.prototype.commit=function(t,e,n){var i=this,o=b(t,e,n),r=o.type,s=o.payload,a=(o.options,{type:r,payload:s}),u=this._mutations[r];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,i.state)})))},h.prototype.dispatch=function(t,e){var n=this,i=b(t,e),o=i.type,r=i.payload,s={type:o,payload:r},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(t){0}var u=a.length>1?Promise.all(a.map((function(t){return t(r)}))):a[0](r);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(t){0}e(t)}))}))}},h.prototype.subscribe=function(t,e){return f(t,this._subscribers,e)},h.prototype.subscribeAction=function(t,e){return f("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},h.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch((function(){return t(i.state,i.getters)}),e,n)},h.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},h.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),v(this,this.state,t,this._modules.get(t),n.preserveState),g(this,this.state)},h.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=y(e.state,t.slice(0,-1));d.delete(n,t[t.length-1])})),m(this)},h.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},h.prototype.hotUpdate=function(t){this._modules.update(t),m(this,!0)},h.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(h.prototype,p);var _=C((function(t,e){var n={};return A(e).forEach((function(e){var i=e.key,o=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=O(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof o?o.call(this,e,n):e[o]},n[i].vuex=!0})),n})),N=C((function(t,e){var n={};return A(e).forEach((function(e){var i=e.key,o=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var r=O(this.$store,"mapMutations",t);if(!r)return;i=r.context.commit}return"function"==typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}})),n})),x=C((function(t,e){var n={};return A(e).forEach((function(e){var i=e.key,o=e.val;o=t+o,n[i]=function(){if(!t||O(this.$store,"mapGetters",t))return this.$store.getters[o]},n[i].vuex=!0})),n})),E=C((function(t,e){var n={};return A(e).forEach((function(e){var i=e.key,o=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var r=O(this.$store,"mapActions",t);if(!r)return;i=r.context.dispatch}return"function"==typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}})),n}));function A(t){return function(t){return Array.isArray(t)||s(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function C(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function O(t,e,n){return t._modulesNamespaceMap[n]}function T(t,e,n){var i=n?t.groupCollapsed:t.group;try{i.call(t,e)}catch(n){t.log(e)}}function k(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function P(){var t=new Date;return" @ "+S(t.getHours(),2)+":"+S(t.getMinutes(),2)+":"+S(t.getSeconds(),2)+"."+S(t.getMilliseconds(),3)}function S(t,e){return n="0",i=e-t.toString().length,new Array(i+1).join(n)+t;var n,i}const M={Store:h,install:w,version:"3.6.2",mapState:_,mapMutations:N,mapGetters:x,mapActions:E,createNamespacedHelpers:function(t){return{mapState:_.bind(null,t),mapGetters:x.bind(null,t),mapMutations:N.bind(null,t),mapActions:E.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var i=t.transformer;void 0===i&&(i=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var u=t.logMutations;void 0===u&&(u=!0);var l=t.logActions;void 0===l&&(l=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var d=o(t.state);void 0!==c&&(u&&t.subscribe((function(t,s){var a=o(s);if(n(t,d,a)){var u=P(),l=r(t),h="mutation "+t.type+u;T(c,h,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",l),c.log("%c next state","color: #4CAF50; font-weight: bold",i(a)),k(c)}d=a})),l&&t.subscribeAction((function(t,n){if(s(t,n)){var i=P(),o=a(t),r="action "+t.type+i;T(c,r,e),c.log("%c action","color: #03A9F4; font-weight: bold",o),k(c)}})))}}}},94975:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-text" viewBox="0 0 24 24"><path d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>'},64024:(t,e,n)=>{"use strict";n.d(e,{K9:()=>l,fn:()=>p,s$:()=>r.i,x2:()=>r.l});var i=n(43935),o=n(20144),r=n(50567),s=n(95642),a=n(33969);const u=(t,e,n=(()=>{}))=>{const i=document.createElement("div");(document.querySelector(e?.container)||document.body).appendChild(i);const r=new o.default({el:i,name:"VueDialogHelper",render:i=>i(t,{props:e,on:{close:(...t)=>{n(...t.map((t=>(0,o.toRaw)(t)))),r.$destroy()}}})});return r};var l=(t=>(t[t.Choose=1]="Choose",t[t.Move=2]="Move",t[t.Copy=3]="Copy",t[t.CopyMove=4]="CopyMove",t[t.Custom=5]="Custom",t))(l||{});class c extends Error{}class d{title;multiSelect;mimeTypeFilter;directoriesAllowed;buttons;path;filter;container;disabledNavigation;constructor(t,e,n,i,o,r,s,a,u=!1){this.title=t,this.multiSelect=e,this.mimeTypeFilter=n,this.directoriesAllowed=i,this.path=r,this.filter=s,this.buttons=o,this.container=a,this.disabledNavigation=u}async pick(){const{FilePickerVue:t}=await n.e("node_modules_nextcloud_dialogs_dist_chunks_index-CqRCpcyw_mjs").then(n.bind(n,71859));return new Promise(((e,n)=>{u(t,{allowPickDirectory:this.directoriesAllowed,buttons:this.buttons,container:this.container,name:this.title,path:this.path,mimetypeFilter:this.mimeTypeFilter,multiselect:this.multiSelect,filterFn:this.filter,disabledNavigation:this.disabledNavigation},((...t)=>{const[i]=t;Array.isArray(i)&&0!==i.length?this.multiSelect?e(i.map((t=>t.path))):e(i[0]?.path||"/"):n(new c("FilePicker: No nodes selected"))}))}))}}class h{title;multiSelect=!1;mimeTypeFilter=[];directoriesAllowed=!1;path;filter;buttons=[];container;disabledNavigation=!1;constructor(t){this.title=t}setContainer(t){return this.container=t,this}setMultiSelect(t){return this.multiSelect=t,this}addMimeTypeFilter(t){return this.mimeTypeFilter.push(t),this}setMimeTypeFilter(t){return this.mimeTypeFilter=t,this}addButton(t){return"function"==typeof this.buttons&&(console.warn("FilePicker buttons were set to factory, now overwritten with button object."),this.buttons=[]),this.buttons.push(t),this}setButtonFactory(t){return this.buttons=t,this}setType(t){return this.buttons=(e,n)=>{const o=[],s=e?.[0]?.attributes?.displayName||e?.[0]?.basename,a=s||(0,i.basename)(n);if(1===t){let t=(0,r.t)("Choose");1===e.length?t=(0,r.t)("Choose {file}",{file:s}):this.multiSelect&&(t=(0,r.n)("Choose %n file","Choose %n files",e.length)),o.push({callback:()=>{},type:"primary",label:t})}return(4===t||3===t)&&o.push({callback:()=>{},label:a?(0,r.t)("Copy to {target}",{target:a}):(0,r.t)("Copy"),type:"primary",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-multiple" viewBox="0 0 24 24"><path d="M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z" /></svg>'}),(2===t||4===t)&&o.push({callback:()=>{},label:a?(0,r.t)("Move to {target}",{target:a}):(0,r.t)("Move"),type:2===t?"primary":"secondary",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-move" viewBox="0 0 24 24"><path d="M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" /></svg>'}),o},this}allowDirectories(t=!0){return this.directoriesAllowed=t,this}startAt(t){return this.path=t,this}setFilter(t){return this.filter=t,this}disableNavigation(){return this.disabledNavigation=!0,this}build(){return new d(this.title,this.multiSelect,this.mimeTypeFilter,this.directoriesAllowed,this.buttons,this.path,this.filter,this.container,this.disabledNavigation)}}function p(t){return new h(t)}const f=(0,o.defineComponent)({__name:"GenericDialog",props:{name:null,text:null,html:null,buttons:null,severity:null},setup(t){const e=t,n=()=>`${e.name}: ${e.text}`;return(0,o.onMounted)((()=>window.addEventListener("unload",n))),(0,o.onUnmounted)((()=>window.removeEventListener("unload",n))),{__sfc:!0,props:e,handleUnload:n,NcDialog:s.Z,NcNoteCard:a.Z}}});var m=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.NcDialog,{attrs:{"dialog-classes":"nc-generic-dialog",buttons:t.buttons,name:t.name,message:t.text},on:{"update:open":function(e){return t.$emit("close")}}},[t.severity?e(n.NcNoteCard,{attrs:{type:t.severity}},[e("p",{domProps:{textContent:t._s(t.text)}})]):t._e(),t.html?e("div",{domProps:{innerHTML:t._s(t.html)}}):t._e()],1)},g=[];(0,r.a)(f,m,g,!1,null,null,null,null).exports},5656:(t,e,n)=>{"use strict";n.d(e,{RL:()=>j,SR:()=>S,Tv:()=>x,_o:()=>P,h4:()=>m,h7:()=>_,pC:()=>L,rp:()=>M,sS:()=>f,tB:()=>N});var i=n(33907),o=n(17499),r=n(31352),s=n(43935),a=n(65358),u=n(11480),l=n(14596),c=n(3443);null===(d=(0,i.ts)())?(0,o.IY)().setApp("files").build():(0,o.IY)().setApp("files").setUid(d.uid).build();var d;const h=["B","KB","MB","GB","TB","PB"],p=["B","KiB","MiB","GiB","TiB","PiB"];function f(t,e=!1,n=!1,i=!1){n=n&&!i,"string"==typeof t&&(t=Number(t));let o=t>0?Math.floor(Math.log(t)/Math.log(i?1e3:1024)):0;o=Math.min((n?p.length:h.length)-1,o);const s=n?p[o]:h[o];let a=(t/Math.pow(i?1e3:1024,o)).toFixed(1);return!0===e&&0===o?("0.0"!==a?"< 1 ":"0 ")+(n?p[1]:h[1]):(a=o<2?parseFloat(a).toFixed(0):parseFloat(a).toLocaleString((0,r.aj)()),a+" "+s)}class m{_header;constructor(t){this.validateHeader(t),this._header=t}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(t){if(!t.id||!t.render||!t.updated)throw new Error("Invalid header: id, render and updated are required");if("string"!=typeof t.id)throw new Error("Invalid id property");if(void 0!==t.enabled&&"function"!=typeof t.enabled)throw new Error("Invalid enabled property");if(t.render&&"function"!=typeof t.render)throw new Error("Invalid render property");if(t.updated&&"function"!=typeof t.updated)throw new Error("Invalid updated property")}}var g=(t=>(t[t.NONE=0]="NONE",t[t.CREATE=4]="CREATE",t[t.READ=1]="READ",t[t.UPDATE=2]="UPDATE",t[t.DELETE=8]="DELETE",t[t.SHARE=16]="SHARE",t[t.ALL=31]="ALL",t))(g||{});const v=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],y={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},b=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...v]),window._nc_dav_properties.map((t=>`<${t} />`)).join(" ")},w=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...y}),Object.keys(window._nc_dav_namespaces).map((t=>`xmlns:${t}="${window._nc_dav_namespaces?.[t]}"`)).join(" ")},_=function(){return`<?xml version="1.0"?>\n\t\t<d:propfind ${w()}>\n\t\t\t<d:prop>\n\t\t\t\t${b()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`},N=function(t){return`<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest ${w()}\n\txmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${b()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${(0,i.ts)()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${t}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`};var x=(t=>(t.Folder="folder",t.File="file",t))(x||{});const E=function(t,e){return null!==t.match(e)},A=(t,e)=>{if(t.id&&"number"!=typeof t.id)throw new Error("Invalid id type of value");if(!t.source)throw new Error("Missing mandatory source");try{new URL(t.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!t.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(t.mtime&&!(t.mtime instanceof Date))throw new Error("Invalid mtime type");if(t.crtime&&!(t.crtime instanceof Date))throw new Error("Invalid crtime type");if(!t.mime||"string"!=typeof t.mime||!t.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in t&&"number"!=typeof t.size&&void 0!==t.size)throw new Error("Invalid size type");if("permissions"in t&&void 0!==t.permissions&&!("number"==typeof t.permissions&&t.permissions>=g.NONE&&t.permissions<=g.ALL))throw new Error("Invalid permissions");if(t.owner&&null!==t.owner&&"string"!=typeof t.owner)throw new Error("Invalid owner type");if(t.attributes&&"object"!=typeof t.attributes)throw new Error("Invalid attributes type");if(t.root&&"string"!=typeof t.root)throw new Error("Invalid root type");if(t.root&&!t.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(t.root&&!t.source.includes(t.root))throw new Error("Root must be part of the source");if(t.root&&E(t.source,e)){const n=t.source.match(e)[0];if(!t.source.includes((0,s.join)(n,t.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(t.status&&!Object.values(C).includes(t.status))throw new Error("Status must be a valid NodeStatus")};var C=(t=>(t.NEW="new",t.FAILED="failed",t.LOADING="loading",t.LOCKED="locked",t))(C||{});class O{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;constructor(t,e){A(t,e||this._knownDavService),this._data=t;const n={set:(t,e,n)=>(this.updateMtime(),Reflect.set(t,e,n)),deleteProperty:(t,e)=>(this.updateMtime(),Reflect.deleteProperty(t,e))};this._attributes=new Proxy(t.attributes||{},n),delete this._data.attributes,e&&(this._knownDavService=e)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+(0,a.Ec)(this.source.slice(t.length))}get basename(){return(0,s.basename)(this.source)}get extension(){return(0,s.extname)(this.source)}get dirname(){if(this.root){let t=this.source;this.isDavRessource&&(t=t.split(this._knownDavService).pop());const e=t.indexOf(this.root),n=this.root.replace(/\/$/,"");return(0,s.dirname)(t.slice(e+n.length)||"/")}const t=new URL(this.source);return(0,s.dirname)(t.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}get crtime(){return this._data.crtime}get size(){return this._data.size}get attributes(){return this._attributes}get permissions(){return null!==this.owner||this.isDavRessource?void 0!==this._data.permissions?this._data.permissions:g.NONE:g.READ}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return E(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&(0,s.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let t=this.source;this.isDavRessource&&(t=t.split(this._knownDavService).pop());const e=t.indexOf(this.root),n=this.root.replace(/\/$/,"");return t.slice(e+n.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id||this.attributes?.fileid}get status(){return this._data?.status}set status(t){this._data.status=t}move(t){A({...this._data,source:t},this._knownDavService),this._data.source=t,this.updateMtime()}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move((0,s.dirname)(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}}class T extends O{get type(){return x.File}}class k extends O{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return x.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}const P=`/files/${(0,i.ts)()?.uid}`,S=(0,u.c)("dav"),M=function(t=S,e={}){const n=(0,l.eI)(t,{headers:e});function o(t){n.setHeaders({...e,"X-Requested-With":"XMLHttpRequest",requesttoken:t??""})}return(0,i._S)(o),o((0,i.IH)()),(0,l.lD)().patch("fetch",((t,e)=>{const n=e.headers;return n?.method&&(e.method=n.method,delete n.method),fetch(t,e)})),n},L=(t,e="/",n=P)=>{const i=new AbortController;return new c.CancelablePromise((async(o,r,s)=>{s((()=>i.abort()));try{o((await t.getDirectoryContents(`${n}${e}`,{signal:i.signal,details:!0,data:`<?xml version="1.0"?>\n\t\t<oc:filter-files ${w()}>\n\t\t\t<d:prop>\n\t\t\t\t${b()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`,headers:{method:"REPORT"},includeSelf:!0})).data.filter((t=>t.filename!==e)).map((t=>j(t,n))))}catch(t){r(t)}}))},j=function(t,e=P,n=S){const o=(0,i.ts)()?.uid;if(!o)throw new Error("No user id found");const r=t.props,s=function(t=""){let e=g.NONE;return t&&((t.includes("C")||t.includes("K"))&&(e|=g.CREATE),t.includes("G")&&(e|=g.READ),(t.includes("W")||t.includes("N")||t.includes("V"))&&(e|=g.UPDATE),t.includes("D")&&(e|=g.DELETE),t.includes("R")&&(e|=g.SHARE)),e}(r?.permissions),a=(r?.["owner-id"]||o).toString(),u={id:r?.fileid||0,source:`${n}${t.filename}`,mtime:new Date(Date.parse(t.lastmod)),mime:t.mime||"application/octet-stream",size:r?.size||Number.parseInt(r.getcontentlength||"0"),permissions:s,owner:a,root:e,attributes:{...t,...r,hasPreview:r?.["has-preview"]}};return delete u.attributes?.props,"file"===t.type?new T(u):new k(u)};var $={},F={};!function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+e+"]["+(e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",i=new RegExp("^"+n+"$");t.isExist=function(t){return typeof t<"u"},t.isEmptyObject=function(t){return 0===Object.keys(t).length},t.merge=function(t,e,n){if(e){const i=Object.keys(e),o=i.length;for(let r=0;r<o;r++)t[i[r]]="strict"===n?[e[i[r]]]:e[i[r]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(t){const e=i.exec(t);return!(null===e||typeof e>"u")},t.getAllMatches=function(t,e){const n=[];let i=e.exec(t);for(;i;){const o=[];o.startIndex=e.lastIndex-i[0].length;const r=i.length;for(let t=0;t<r;t++)o.push(i[t]);n.push(o),i=e.exec(t)}return n},t.nameRegexp=n}(F);const I=F,D={allowBooleanAttributes:!1,unpairedTags:[]};function V(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function R(t,e){const n=e;for(;e<t.length;e++)if("?"==t[e]||" "==t[e]){const i=t.substr(n,e-n);if(e>5&&"xml"===i)return K("InvalidXml","XML declaration allowed only at the start of the document.",Z(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}continue}return e}function H(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}$.validate=function(t,e){e=Object.assign({},D,e);const n=[];let i=!1,o=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let r=0;r<t.length;r++)if("<"===t[r]&&"?"===t[r+1]){if(r+=2,r=R(t,r),r.err)return r}else{if("<"!==t[r]){if(V(t[r]))continue;return K("InvalidChar","char '"+t[r]+"' is not expected.",Z(t,r))}{let s=r;if(r++,"!"===t[r]){r=H(t,r);continue}{let a=!1;"/"===t[r]&&(a=!0,r++);let u="";for(;r<t.length&&">"!==t[r]&&" "!==t[r]&&"\t"!==t[r]&&"\n"!==t[r]&&"\r"!==t[r];r++)u+=t[r];if(u=u.trim(),"/"===u[u.length-1]&&(u=u.substring(0,u.length-1),r--),!X(u)){let e;return e=0===u.trim().length?"Invalid space after '<'.":"Tag '"+u+"' is an invalid name.",K("InvalidTag",e,Z(t,r))}const l=W(t,r);if(!1===l)return K("InvalidAttr","Attributes for '"+u+"' have open quote.",Z(t,r));let c=l.value;if(r=l.index,"/"===c[c.length-1]){const n=r-c.length;c=c.substring(0,c.length-1);const o=U(c,e);if(!0!==o)return K(o.err.code,o.err.msg,Z(t,n+o.err.line));i=!0}else if(a){if(!l.tagClosed)return K("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",Z(t,r));if(c.trim().length>0)return K("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",Z(t,s));{const e=n.pop();if(u!==e.tagName){let n=Z(t,e.tagStartPos);return K("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+u+"'.",Z(t,s))}0==n.length&&(o=!0)}}else{const a=U(c,e);if(!0!==a)return K(a.err.code,a.err.msg,Z(t,r-c.length+a.err.line));if(!0===o)return K("InvalidXml","Multiple possible root nodes found.",Z(t,r));-1!==e.unpairedTags.indexOf(u)||n.push({tagName:u,tagStartPos:s}),i=!0}for(r++;r<t.length;r++)if("<"===t[r]){if("!"===t[r+1]){r++,r=H(t,r);continue}if("?"!==t[r+1])break;if(r=R(t,++r),r.err)return r}else if("&"===t[r]){const e=q(t,r);if(-1==e)return K("InvalidChar","char '&' is not expected.",Z(t,r));r=e}else if(!0===o&&!V(t[r]))return K("InvalidXml","Extra text at the end",Z(t,r));"<"===t[r]&&r--}}}return i?1==n.length?K("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Z(t,n[0].tagStartPos)):!(n.length>0)||K("InvalidXml","Invalid '"+JSON.stringify(n.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):K("InvalidXml","Start tag expected.",1)};const B='"',G="'";function W(t,e){let n="",i="",o=!1;for(;e<t.length;e++){if(t[e]===B||t[e]===G)""===i?i=t[e]:i!==t[e]||(i="");else if(">"===t[e]&&""===i){o=!0;break}n+=t[e]}return""===i&&{value:n,index:e,tagClosed:o}}const z=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function U(t,e){const n=I.getAllMatches(t,z),i={};for(let t=0;t<n.length;t++){if(0===n[t][1].length)return K("InvalidAttr","Attribute '"+n[t][2]+"' has no space in starting.",Y(n[t]));if(void 0!==n[t][3]&&void 0===n[t][4])return K("InvalidAttr","Attribute '"+n[t][2]+"' is without value.",Y(n[t]));if(void 0===n[t][3]&&!e.allowBooleanAttributes)return K("InvalidAttr","boolean attribute '"+n[t][2]+"' is not allowed.",Y(n[t]));const o=n[t][2];if(!J(o))return K("InvalidAttr","Attribute '"+o+"' is an invalid name.",Y(n[t]));if(i.hasOwnProperty(o))return K("InvalidAttr","Attribute '"+o+"' is repeated.",Y(n[t]));i[o]=1}return!0}function q(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function K(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function J(t){return I.isName(t)}function X(t){return I.isName(t)}function Z(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Y(t){return t.startIndex+t[1].length}var Q={};const tt={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}};Q.buildOptions=function(t){return Object.assign({},tt,t)},Q.defaultOptions=tt;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");var et={};function nt(t,e,n){let i;const o={};for(let r=0;r<t.length;r++){const s=t[r],a=it(s);let u="";if(u=void 0===n?a:n+"."+a,a===e.textNodeName)void 0===i?i=s[a]:i+=""+s[a];else{if(void 0===a)continue;if(s[a]){let t=nt(s[a],e,u);const n=rt(t,e);s[":@"]?ot(t,s[":@"],u,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==o[a]&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(t)):e.isArray(a,u,n)?o[a]=[t]:o[a]=t}}}return"string"==typeof i?i.length>0&&(o[e.textNodeName]=i):void 0!==i&&(o[e.textNodeName]=i),o}function it(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function ot(t,e,n,i){if(e){const o=Object.keys(e),r=o.length;for(let s=0;s<r;s++){const r=o[s];i.isArray(r,n+"."+r,!0,!0)?t[r]=[e[r]]:t[r]=e[r]}}}function rt(t,e){const{textNodeName:n}=e,i=Object.keys(t).length;return!(0!==i&&(1!==i||!t[n]&&"boolean"!=typeof t[n]&&0!==t[n]))}et.prettify=function(t,e){return nt(t,e)};const{buildOptions:st}=Q,{prettify:at}=et;function ut(t,e,n,i){let o="",r=!1;for(let s=0;s<t.length;s++){const a=t[s],u=lt(a);if(void 0===u)continue;let l="";if(l=0===n.length?u:`${n}.${u}`,u===e.textNodeName){let t=a[u];dt(l,e)||(t=e.tagValueProcessor(u,t),t=ht(t,e)),r&&(o+=i),o+=t,r=!1;continue}if(u===e.cdataPropName){r&&(o+=i),o+=`<![CDATA[${a[u][0][e.textNodeName]}]]>`,r=!1;continue}if(u===e.commentPropName){o+=i+`\x3c!--${a[u][0][e.textNodeName]}--\x3e`,r=!0;continue}if("?"===u[0]){const t=ct(a[":@"],e),n="?xml"===u?"":i;let s=a[u][0][e.textNodeName];s=0!==s.length?" "+s:"",o+=n+`<${u}${s}${t}?>`,r=!0;continue}let c=i;""!==c&&(c+=e.indentBy);const d=i+`<${u}${ct(a[":@"],e)}`,h=ut(a[u],e,l,c);-1!==e.unpairedTags.indexOf(u)?e.suppressUnpairedNode?o+=d+">":o+=d+"/>":h&&0!==h.length||!e.suppressEmptyNode?h&&h.endsWith(">")?o+=d+`>${h}${i}</${u}>`:(o+=d+">",h&&""!==i&&(h.includes("/>")||h.includes("</"))?o+=i+e.indentBy+h+i:o+=h,o+=`</${u}>`):o+=d+"/>",r=!0}return o}function lt(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const i=e[n];if(t.hasOwnProperty(i)&&":@"!==i)return i}}function ct(t,e){let n="";if(t&&!e.ignoreAttributes)for(let i in t){if(!t.hasOwnProperty(i))continue;let o=e.attributeValueProcessor(i,t[i]);o=ht(o,e),!0===o&&e.suppressBooleanAttributes?n+=` ${i.substr(e.attributeNamePrefix.length)}`:n+=` ${i.substr(e.attributeNamePrefix.length)}="${o}"`}return n}function dt(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let i in e.stopNodes)if(e.stopNodes[i]===t||e.stopNodes[i]==="*."+n)return!0;return!1}function ht(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const i=e.entities[n];t=t.replace(i.regex,i.val)}return t}var pt=function(t,e){let n="";return e.format&&e.indentBy.length>0&&(n="\n"),ut(t,e,"",n)};const ft=pt,mt={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function gt(t){this.options=Object.assign({},mt,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=bt),this.processTextOrObjNode=vt,this.options.format?(this.indentate=yt,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function vt(t,e,n){const i=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}function yt(t){return this.options.indentBy.repeat(t)}function bt(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}gt.prototype.build=function(t){return this.options.preserveOrder?ft(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},gt.prototype.j2x=function(t,e){let n="",i="";for(let o in t)if(Object.prototype.hasOwnProperty.call(t,o))if(typeof t[o]>"u")this.isAttribute(o)&&(i+="");else if(null===t[o])this.isAttribute(o)?i+="":"?"===o[0]?i+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)i+=this.buildTextValNode(t[o],o,"",e);else if("object"!=typeof t[o]){const r=this.isAttribute(o);if(r)n+=this.buildAttrPairStr(r,""+t[o]);else if(o===this.options.textNodeName){let e=this.options.tagValueProcessor(o,""+t[o]);i+=this.replaceEntitiesValue(e)}else i+=this.buildTextValNode(t[o],o,"",e)}else if(Array.isArray(t[o])){const n=t[o].length;let r="";for(let s=0;s<n;s++){const n=t[o][s];typeof n>"u"||(null===n?"?"===o[0]?i+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+o+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?r+=this.j2x(n,e+1).val:r+=this.processTextOrObjNode(n,o,e):r+=this.buildTextValNode(n,o,"",e))}this.options.oneListGroup&&(r=this.buildObjectNode(r,o,"",e)),i+=r}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const e=Object.keys(t[o]),i=e.length;for(let r=0;r<i;r++)n+=this.buildAttrPairStr(e[r],""+t[o][e[r]])}else i+=this.processTextOrObjNode(t[o],o,e);return{attrStr:n,val:i}},gt.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},gt.prototype.buildObjectNode=function(t,e,n,i){if(""===t)return"?"===e[0]?this.indentate(i)+"<"+e+n+"?"+this.tagEndChar:this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let o="</"+e+this.tagEndChar,r="";return"?"===e[0]&&(r="?",o=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===r.length?this.indentate(i)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(i)+"<"+e+n+r+this.tagEndChar+t+this.indentate(i)+o:this.indentate(i)+"<"+e+n+r+">"+t+o}},gt.prototype.closeTag=function(t){let e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":`></${t}`,e},gt.prototype.buildTextValNode=function(t,e,n,i){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(i)+`\x3c!--${t}--\x3e`+this.newLine;if("?"===e[0])return this.indentate(i)+"<"+e+n+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(e,t);return o=this.replaceEntitiesValue(o),""===o?this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(i)+"<"+e+n+">"+o+"</"+e+this.tagEndChar}},gt.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t}},31352:(t,e,n)=>{"use strict";n.d(e,{A9:()=>a,G4:()=>l,Hd:()=>c,Iu:()=>f,Kd:()=>d,MT:()=>s,aS:()=>u,aj:()=>h,uN:()=>m,yo:()=>r});n(60759);var i=n(27856),o=n(95573);function r(){return void 0===window.firstDay?(console.warn("No firstDay found"),1):window.firstDay}function s(){return void 0===window.dayNames?(console.warn("No dayNames found"),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]):window.dayNames}function a(){return void 0===window.dayNamesShort?(console.warn("No dayNamesShort found"),["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."]):window.dayNamesShort}function u(){return void 0===window.dayNamesMin?(console.warn("No dayNamesMin found"),["Su","Mo","Tu","We","Th","Fr","Sa"]):window.dayNamesMin}function l(){return void 0===window.monthNames?(console.warn("No monthNames found"),["January","February","March","April","May","June","July","August","September","October","November","December"]):window.monthNames}function c(){return void 0===window.monthNamesShort?(console.warn("No monthNamesShort found"),["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."]):window.monthNamesShort}function d(){return document.documentElement.dataset.locale||"en"}function h(){return d().replace(/_/g,"-")}function p(t){var e,n,i,o;return{translations:null!==(n=null===(e=window._oc_l10n_registry_translations)||void 0===e?void 0:e[t])&&void 0!==n?n:{},pluralFunction:null!==(o=null===(i=window._oc_l10n_registry_plural_functions)||void 0===i?void 0:i[t])&&void 0!==o?o:t=>t}}function f(t,e,n,r,s){const a=Object.assign({},{escape:!0,sanitize:!0},s||{}),u=t=>t,l=a.sanitize?i.sanitize:u,c=a.escape?o:u;let d=p(t).translations[e]||e;return d=Array.isArray(d)?d[0]:d,l("object"==typeof n||void 0!==r?((t,e,n)=>t.replace(/%n/g,""+n).replace(/{([^{}]*)}/g,((t,n)=>{if(void 0===e||!(n in e))return l(t);const i=e[n];return l("string"==typeof i||"number"==typeof i?c(i):t)})))(d,n,r):d)}function m(t,e,n,i,o,r){const s="_"+e+"_::_"+n+"_",a=p(t),u=a.translations[s];if(void 0!==u){const e=u;if(Array.isArray(e)){return f(t,e[a.pluralFunction(i)],o,i,r)}}return f(t,1===i?e:n,o,i,r)}}}]);
//# sourceMappingURL=vendors-node_modules_nextcloud_browser-storage_dist_index_js-node_modules_debounce_index_js-n-e32446.js.map?v=8917f1a2ba9740648a45