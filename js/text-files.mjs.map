{"version":3,"mappings":";;;;;;;;;AAUA,MAAM,qBAAqB,UAAU,QAAQ,qBAAqB;AAClE,MAAM,mBAAmB,UAAU,QAAQ,mBAAmB;AAE9D,SAAS,iBAAiB,oBAAoB,YAAY;;AACzD,MAAI,OAAO,IAAI,WAAW,aAAa;AACtC,UAAM,EAAE,2BAA4B,IAAG;gFAAM,OAAO,4BAAoB;AAAC,2CAAAA,4BAAA;AAAA;AACzE,WAAO,MAAM,6BAA6B;AAC1C,+BAA4B;AAAA,EAC5B;AAED,MAAI,sBAAsB,SAAO,gCAAK,UAAL,mBAAY,WAAU;AACtD,UAAM,EAAE,SAAS,IAAK,IAAG,MAAK;AAAA,uBAAAC,KAAA,UAAC,OAAO,sCAAK;AAAC,wBAAAA,KAAA;AAAA;AAC5C,UAAM,EAAE,SAAS,cAAe,IAAG,MAAM;AAAA,uBAAAC,eAAA,iBAAO,oCAA2B;AAAC,wBAAAA,eAAA;AAAA;AAC5E,UAAM,EAAE,SAAS,MAAO,IAAG,MAAM;AAAA,uBAAAC,OAAA,iBAAO,4BAAkB;AAAC,wBAAAA,OAAA;AAAA;AAE3D,QAAI,UAAU,IAAI,OAAO;AACzB,QAAI,UAAU,IAAI,OAAO;AACzB,QAAI,UAAU,MAAM,OAAO;AAC3B,UAAM,KAAK,IAAI,IAAI;AAAA,MAClB,QAAQ,OAAK,EAAE,eAAe,EAAE;AAAA,MAChC;AAAA,IACH,CAAG;AACD,UAAM,KAAK,GAAG,OAAM,EAAG;AACvB,QAAI,MAAM,SAAS,SAAS,IAAI,IAAI,MAAM,SAAS,QAAQ,QAAQ;AAAA,MAClE,IAAI,MAAM;AAAE,eAAO;AAAA,MAAI;AAAA,IAC1B,CAAG,CAAC;AAAA,EACF;AACF,CAAC;AAED,IAAI,OAAO;AAAA,EACV,sBAAsB;AACvB","names":["registerFileActionFallback","Vue","FilesSettings","store"],"ignoreList":[],"sources":["../src/files.js"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { loadState } from '@nextcloud/initial-state'\n\nimport { logger } from './helpers/logger.js'\n// eslint-disable-next-line import/no-unresolved, n/no-missing-import\nimport 'vite/modulepreload-polyfill'\n\nconst workspaceAvailable = loadState('text', 'workspace_available')\nconst workspaceEnabled = loadState('text', 'workspace_enabled')\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n\tif (typeof OCA.Viewer === 'undefined') {\n\t\tconst { registerFileActionFallback } = await import('./helpers/files.js')\n\t\tlogger.error('Viewer app is not installed')\n\t\tregisterFileActionFallback()\n\t}\n\n\tif (workspaceAvailable && OCA && OCA?.Files?.Settings) {\n\t\tconst { default: Vue } = await import('vue')\n\t\tconst { default: FilesSettings } = await import('./views/FilesSettings.vue')\n\t\tconst { default: store } = await import('./store/index.js')\n\n\t\tVue.prototype.t = window.t\n\t\tVue.prototype.n = window.n\n\t\tVue.prototype.OCA = window.OCA\n\t\tconst vm = new Vue({\n\t\t\trender: h => h(FilesSettings, {}),\n\t\t\tstore,\n\t\t})\n\t\tconst el = vm.$mount().$el\n\t\tOCA.Files.Settings.register(new OCA.Files.Settings.Setting('text', {\n\t\t\tel: () => { return el },\n\t\t}))\n\t}\n})\n\nOCA.Text = {\n\tRichWorkspaceEnabled: workspaceEnabled,\n}\n"],"file":"js/text-files.mjs"}