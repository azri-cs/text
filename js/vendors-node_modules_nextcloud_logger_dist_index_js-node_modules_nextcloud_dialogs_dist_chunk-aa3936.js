/*! For license information please see vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_dialogs_dist_chunk-aa3936.js.LICENSE.txt */
"use strict";(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_dialogs_dist_chunk-aa3936"],{71356:(e,t,n)=>{n(40739),n(84254),n(752),n(21694),n(76265),Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0,t.buildConsoleLogger=function(e){return new a(e)},n(60429),n(69373),n(59903),n(59749),n(86544),n(60228),n(79288);var r=n(20006);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=void 0,(r=l(r="context"))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.context=t||{}}var t,n,a;return t=e,(n=[{key:"formatMessage",value:function(e,t,n){var i="["+r.LogLevel[t].toUpperCase()+"] ";return n&&n.app&&(i+=n.app+": "),"string"==typeof e?i+e:(i+="Unexpected ".concat(e.name),e.message&&(i+=' "'.concat(e.message,'"')),t===r.LogLevel.Debug&&e.stack&&(i+="\n\nStack trace:\n".concat(e.stack)),i)}},{key:"log",value:function(e,t,n){var o,l;if(!("number"==typeof(null===(o=this.context)||void 0===o?void 0:o.level)&&e<(null===(l=this.context)||void 0===l?void 0:l.level)))switch("object"===i(t)&&void 0===(null==n?void 0:n.error)&&(n.error=t),e){case r.LogLevel.Debug:console.debug(this.formatMessage(t,r.LogLevel.Debug,n),n);break;case r.LogLevel.Info:console.info(this.formatMessage(t,r.LogLevel.Info,n),n);break;case r.LogLevel.Warn:console.warn(this.formatMessage(t,r.LogLevel.Warn,n),n);break;case r.LogLevel.Error:console.error(this.formatMessage(t,r.LogLevel.Error,n),n);break;case r.LogLevel.Fatal:default:console.error(this.formatMessage(t,r.LogLevel.Fatal,n),n)}}},{key:"debug",value:function(e,t){this.log(r.LogLevel.Debug,e,Object.assign({},this.context,t))}},{key:"info",value:function(e,t){this.log(r.LogLevel.Info,e,Object.assign({},this.context,t))}},{key:"warn",value:function(e,t){this.log(r.LogLevel.Warn,e,Object.assign({},this.context,t))}},{key:"error",value:function(e,t){this.log(r.LogLevel.Error,e,Object.assign({},this.context,t))}},{key:"fatal",value:function(e,t){this.log(r.LogLevel.Fatal,e,Object.assign({},this.context,t))}}])&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ConsoleLogger=a},55058:(e,t,n)=>{n(40739),n(84254),n(752),n(21694),n(76265),Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerBuilder=void 0,n(69373),n(59903),n(59749),n(86544),n(60228),n(79288);var r=n(50849),i=n(20006);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"context",void 0),a(this,"factory",void 0),this.context={},this.factory=t}var t,n,o;return t=e,(n=[{key:"setApp",value:function(e){return this.context.app=e,this}},{key:"setLogLevel",value:function(e){return this.context.level=e,this}},{key:"setUid",value:function(e){return this.context.uid=e,this}},{key:"detectUser",value:function(){var e=(0,r.getCurrentUser)();return null!==e&&(this.context.uid=e.uid),this}},{key:"detectLogLevel",value:function(){var e=this;return function t(){var n,r;"complete"===document.readyState||"interactive"===document.readyState?(e.context.level=null!==(n=null===(r=window._oc_config)||void 0===r?void 0:r.loglevel)&&void 0!==n?n:i.LogLevel.Warn,window._oc_debug&&(e.context.level=i.LogLevel.Debug),document.removeEventListener("readystatechange",t)):document.addEventListener("readystatechange",t)}(),this}},{key:"build",value:function(){return void 0===this.context.level&&this.detectLogLevel(),this.factory(this.context)}}])&&l(t.prototype,n),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.LoggerBuilder=c},20006:(e,t,n)=>{n(40739),Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0;var r=function(e){return e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal",e}({});t.LogLevel=r},17499:(e,t,n)=>{n(40739),t.IY=l;var r=n(71356),i=n(55058),o=n(20006);function l(){return new i.LoggerBuilder(r.buildConsoleLogger)}},50849:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(57888);let i;const o=[];let l;r.subscribe("csrf-token-update",(e=>{i=e.token,o.forEach((e=>{try{e(i)}catch(e){console.error("error updating CSRF token observer",e)}}))}));const a=(e,t)=>e?e.getAttribute(t):null;t.getCurrentUser=function(){if(void 0!==l)return l;const e=document?.getElementsByTagName("head")[0];if(!e)return null;const t=a(e,"data-user");return null===t?(l=null,l):(l={uid:t,displayName:a(e,"data-user-displayname"),isAdmin:!!window._oc_isadmin},l)},t.getRequestToken=function(){if(void 0===i){const e=document?.getElementsByTagName("head")[0];i=e?e.getAttribute("data-requesttoken"):null}return i},t.onRequestTokenUpdate=function(e){o.push(e)}},57888:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(77907),i=n(92426),o=e=>e&&e.__esModule?e:{default:e},l=o(r),a=o(i);class s{bus;constructor(e){"function"==typeof e.getVersion&&l.default(e.getVersion())?a.default(e.getVersion())!==a.default(this.getVersion())&&console.warn("Proxying an event bus of version "+e.getVersion()+" with "+this.getVersion()):console.warn("Proxying an event bus with an unknown or invalid version"),this.bus=e}getVersion(){return"3.3.1"}subscribe(e,t){this.bus.subscribe(e,t)}unsubscribe(e,t){this.bus.unsubscribe(e,t)}emit(e,t){this.bus.emit(e,t)}}class c{handlers=new Map;getVersion(){return"3.3.1"}subscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).concat(t))}unsubscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).filter((e=>e!==t)))}emit(e,t){(this.handlers.get(e)||[]).forEach((e=>{try{e(t)}catch(e){console.error("could not invoke event listener",e)}}))}}let u=null;function d(){return null!==u?u:"undefined"==typeof window?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&void 0===window._nc_event_bus&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),u=void 0!==window?._nc_event_bus?new s(window._nc_event_bus):window._nc_event_bus=new c,u)}t.ProxyBus=s,t.SimpleBus=c,t.emit=function(e,t){d().emit(e,t)},t.subscribe=function(e,t){d().subscribe(e,t)},t.unsubscribe=function(e,t){d().unsubscribe(e,t)}},23550:(e,t,n)=>{var r=n(60598),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},87370:(e,t,n)=>{var r=n(44201),i=n(25391),o=n(72560).f,l=r("unscopables"),a=Array.prototype;void 0===a[l]&&o(a,l,{configurable:!0,value:i(null)}),e.exports=function(e){a[l][e]=!0}},96004:(e,t,n)=>{var r=n(68844);e.exports=r([].slice)},81748:(e,t,n)=>{var r=n(3689);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},27807:e=>{e.exports=function(e,t){return{value:e,done:t}}},81797:(e,t,n)=>{var r=n(85027),i=n(35899),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new o("Incorrect hint");return i(this,e)}},62148:(e,t,n)=>{var r=n(98702),i=n(72560);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},66338:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},33265:(e,t,n)=>{var r=n(36420)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},52743:(e,t,n)=>{var r=n(68844),i=n(10509);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},92643:(e,t,n)=>{var r=n(68844),i=n(92297),o=n(69985),l=n(6648),a=n(34327),s=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?s(n,c):"number"!=typeof c&&"Number"!==l(c)&&"String"!==l(c)||s(n,a(c))}var u=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<u;r++)if(n[r]===e)return t}}}},33457:(e,t,n)=>{var r=n(69985),i=n(48999),o=n(49385);e.exports=function(e,t,n){var l,a;return o&&r(l=t.constructor)&&l!==n&&i(a=l.prototype)&&a!==n.prototype&&o(e,a),e}},60598:(e,t,n)=>{var r=n(48999);e.exports=function(e){return r(e)||null===e}},30974:(e,t,n)=>{var r=n(12013).IteratorPrototype,i=n(25391),o=n(75684),l=n(55997),a=n(9478),s=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!c,n)}),l(e,u,!1,!0),a[u]=s,e}},91934:(e,t,n)=>{var r=n(79989),i=n(22615),o=n(53931),l=n(41236),a=n(69985),s=n(30974),c=n(61868),u=n(49385),d=n(55997),f=n(75773),p=n(11880),v=n(44201),g=n(9478),m=n(12013),y=l.PROPER,h=l.CONFIGURABLE,b=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,_=v("iterator"),S="keys",k="values",C="entries",L=function(){return this};e.exports=function(e,t,n,l,v,m,x){s(n,t,l);var F,P,N,I=function(e){if(e===v&&j)return j;if(!w&&e&&e in V)return V[e];switch(e){case S:case k:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},B=t+" Iterator",O=!1,V=e.prototype,M=V[_]||V["@@iterator"]||v&&V[v],j=!w&&M||I(v),A="Array"===t&&V.entries||M;if(A&&(F=c(A.call(new e)))!==Object.prototype&&F.next&&(o||c(F)===b||(u?u(F,b):a(F[_])||p(F,_,L)),d(F,B,!0,!0),o&&(g[B]=L)),y&&v===k&&M&&M.name!==k&&(!o&&h?f(V,"name",k):(O=!0,j=function(){return i(M,this)})),v)if(P={values:I(k),keys:m?j:I(S),entries:I(C)},x)for(N in P)(w||O||!(N in V))&&p(V,N,P[N]);else r({target:t,proto:!0,forced:w||O},P);return o&&!x||V[_]===j||p(V,_,j,{name:v}),g[t]=j,P}},12013:(e,t,n)=>{var r,i,o,l=n(3689),a=n(69985),s=n(48999),c=n(25391),u=n(61868),d=n(11880),f=n(44201),p=n(53931),v=f("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):g=!0),!s(r)||l((function(){var e={};return r[v].call(e)!==e}))?r={}:p&&(r=c(r)),a(r[v])||d(r,v,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},9478:e=>{e.exports={}},45394:(e,t,n)=>{var r=n(67697),i=n(68844),o=n(22615),l=n(3689),a=n(20300),s=n(7518),c=n(49556),u=n(90690),d=n(94413),f=Object.assign,p=Object.defineProperty,v=i([].concat);e.exports=!f||l((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==f({},e)[n]||a(f({},t)).join("")!==i}))?function(e,t){for(var n=u(e),i=arguments.length,l=1,f=s.f,p=c.f;i>l;)for(var g,m=d(arguments[l++]),y=f?v(a(m),f(m)):a(m),h=y.length,b=0;h>b;)g=y[b++],r&&!o(p,m,g)||(n[g]=m[g]);return n}:f},26062:(e,t,n)=>{var r=n(6648),i=n(65290),o=n(72741).f,l=n(96004),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"===r(e)?function(e){try{return o(e)}catch(e){return l(a)}}(e):o(i(e))}},61868:(e,t,n)=>{var r=n(36812),i=n(69985),o=n(90690),l=n(2713),a=n(81748),s=l("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=o(e);if(r(t,s))return t[s];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},49385:(e,t,n)=>{var r=n(52743),i=n(48999),o=n(74684),l=n(23550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),l(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},65073:(e,t,n)=>{var r=n(23043),i=n(50926);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},50496:(e,t,n)=>{var r=n(19037);e.exports=r},55997:(e,t,n)=>{var r=n(72560).f,i=n(36812),o=n(44201)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},61435:(e,t,n)=>{var r=n(68844),i=n(74684),o=n(34327),l=n(86350),a=r("".replace),s=RegExp("^["+l+"]+"),c=RegExp("(^|[^"+l+"])["+l+"]+$"),u=function(e){return function(t){var n=o(i(t));return 1&e&&(n=a(n,s,"")),2&e&&(n=a(n,c,"$1")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},13032:(e,t,n)=>{var r=n(22615),i=n(76058),o=n(44201),l=n(11880);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&l(t,a,(function(e){return r(n,this)}),{arity:1})}},46549:(e,t,n)=>{var r=n(50146);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},23648:(e,t,n)=>{var r=n(68844);e.exports=r(1..valueOf)},35405:(e,t,n)=>{var r=n(50496),i=n(36812),o=n(96145),l=n(72560).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||l(t,e,{value:o.f(e)})}},96145:(e,t,n)=>{var r=n(44201);t.f=r},86350:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},752:(e,t,n)=>{var r=n(65290),i=n(87370),o=n(9478),l=n(618),a=n(72560).f,s=n(91934),c=n(27807),u=n(53931),d=n(67697),f="Array Iterator",p=l.set,v=l.getterFor(f);e.exports=s(Array,"Array",(function(e,t){p(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=v(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,c(void 0,!0);switch(e.kind){case"keys":return c(n,!1);case"values":return c(t[n],!1)}return c([n,t[n]],!1)}),"values");var g=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(e){}},59903:(e,t,n)=>{var r=n(36812),i=n(11880),o=n(81797),l=n(44201)("toPrimitive"),a=Date.prototype;r(a,l)||i(a,l,o)},48324:(e,t,n)=>{var r=n(79989),i=n(76058),o=n(61735),l=n(22615),a=n(68844),s=n(3689),c=n(69985),u=n(30734),d=n(96004),f=n(92643),p=n(50146),v=String,g=i("JSON","stringify"),m=a(/./.exec),y=a("".charAt),h=a("".charCodeAt),b=a("".replace),w=a(1..toString),_=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,C=!p||s((function(){var e=i("Symbol")("stringify detection");return"[null]"!==g([e])||"{}"!==g({a:e})||"{}"!==g(Object(e))})),L=s((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),x=function(e,t){var n=d(arguments),r=f(t);if(c(r)||void 0!==e&&!u(e))return n[1]=function(e,t){if(c(r)&&(t=l(r,this,v(e),t)),!u(t))return t},o(g,null,n)},F=function(e,t,n){var r=y(n,t-1),i=y(n,t+1);return m(S,e)&&!m(k,i)||m(k,e)&&!m(S,r)?"\\u"+w(h(e,0),16):e};g&&r({target:"JSON",stat:!0,arity:3,forced:C||L},{stringify:function(e,t,n){var r=d(arguments),i=o(C?x:g,null,r);return L&&"string"==typeof i?b(i,_,F):i}})},79288:(e,t,n)=>{var r=n(79989),i=n(53931),o=n(67697),l=n(19037),a=n(50496),s=n(68844),c=n(35266),u=n(36812),d=n(33457),f=n(23622),p=n(30734),v=n(88732),g=n(3689),m=n(72741).f,y=n(82474).f,h=n(72560).f,b=n(23648),w=n(61435).trim,_="Number",S=l[_],k=a[_],C=S.prototype,L=l.TypeError,x=s("".slice),F=s("".charCodeAt),P=function(e){var t,n,r,i,o,l,a,s,c=v(e,"number");if(p(c))throw new L("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(t=F(c,0))||45===t){if(88===(n=F(c,2))||120===n)return NaN}else if(48===t){switch(F(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(l=(o=x(c,2)).length,a=0;a<l;a++)if((s=F(o,a))<48||s>i)return NaN;return parseInt(o,r)}return+c},N=c(_,!S(" 0o1")||!S("0b1")||S("+0x1")),I=function(e){var t,n=arguments.length<1?0:S(function(e){var t=v(e,"number");return"bigint"==typeof t?t:P(t)}(e));return f(C,t=this)&&g((function(){b(t)}))?d(Object(n),this,I):n};I.prototype=C,N&&!i&&(C.constructor=I),r({global:!0,constructor:!0,wrap:!0,forced:N},{Number:I});var B=function(e,t){for(var n,r=o?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)u(t,n=r[i])&&!u(e,n)&&h(e,n,y(t,n))};i&&k&&B(a[_],k),(N||i)&&B(a[_],S)},60429:(e,t,n)=>{var r=n(79989),i=n(45394);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},40739:(e,t,n)=>{var r=n(79989),i=n(67697),o=n(72560).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},79434:(e,t,n)=>{var r=n(79989),i=n(50146),o=n(3689),l=n(7518),a=n(90690);r({target:"Object",stat:!0,forced:!i||o((function(){l.f(1)}))},{getOwnPropertySymbols:function(e){var t=l.f;return t?t(a(e)):[]}})},60228:(e,t,n)=>{var r=n(23043),i=n(11880),o=n(65073);r||i(Object.prototype,"toString",o,{unsafe:!0})},21694:(e,t,n)=>{var r=n(10730).charAt,i=n(34327),o=n(618),l=n(91934),a=n(27807),s="String Iterator",c=o.set,u=o.getterFor(s);l(String,"String",(function(e){c(this,{type:s,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?a(void 0,!0):(e=r(n,i),t.index+=e.length,a(e,!1))}))},37855:(e,t,n)=>{var r=n(79989),i=n(19037),o=n(22615),l=n(68844),a=n(53931),s=n(67697),c=n(50146),u=n(3689),d=n(36812),f=n(23622),p=n(85027),v=n(65290),g=n(18360),m=n(34327),y=n(75684),h=n(25391),b=n(20300),w=n(72741),_=n(26062),S=n(7518),k=n(82474),C=n(72560),L=n(98920),x=n(49556),F=n(11880),P=n(62148),N=n(83430),I=n(2713),B=n(57248),O=n(14630),V=n(44201),M=n(96145),j=n(35405),A=n(13032),E=n(55997),T=n(618),z=n(2960).forEach,D=I("hidden"),R="Symbol",H="prototype",$=T.set,U=T.getterFor(R),G=Object[H],Z=i.Symbol,W=Z&&Z[H],q=i.RangeError,Y=i.TypeError,K=i.QObject,J=k.f,Q=C.f,X=_.f,ee=x.f,te=l([].push),ne=N("symbols"),re=N("op-symbols"),ie=N("wks"),oe=!K||!K[H]||!K[H].findChild,le=function(e,t,n){var r=J(G,t);r&&delete G[t],Q(e,t,n),r&&e!==G&&Q(G,t,r)},ae=s&&u((function(){return 7!==h(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?le:Q,se=function(e,t){var n=ne[e]=h(W);return $(n,{type:R,tag:e,description:t}),s||(n.description=t),n},ce=function(e,t,n){e===G&&ce(re,t,n),p(e);var r=g(t);return p(n),d(ne,r)?(n.enumerable?(d(e,D)&&e[D][r]&&(e[D][r]=!1),n=h(n,{enumerable:y(0,!1)})):(d(e,D)||Q(e,D,y(1,h(null))),e[D][r]=!0),ae(e,r,n)):Q(e,r,n)},ue=function(e,t){p(e);var n=v(t),r=b(n).concat(ve(n));return z(r,(function(t){s&&!o(de,n,t)||ce(e,t,n[t])})),e},de=function(e){var t=g(e),n=o(ee,this,t);return!(this===G&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,D)&&this[D][t])||n)},fe=function(e,t){var n=v(e),r=g(t);if(n!==G||!d(ne,r)||d(re,r)){var i=J(n,r);return!i||!d(ne,r)||d(n,D)&&n[D][r]||(i.enumerable=!0),i}},pe=function(e){var t=X(v(e)),n=[];return z(t,(function(e){d(ne,e)||d(B,e)||te(n,e)})),n},ve=function(e){var t=e===G,n=X(t?re:v(e)),r=[];return z(n,(function(e){!d(ne,e)||t&&!d(G,e)||te(r,ne[e])})),r};c||(F(W=(Z=function(){if(f(W,this))throw new Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=O(e),n=function(e){var r=void 0===this?i:this;r===G&&o(n,re,e),d(r,D)&&d(r[D],t)&&(r[D][t]=!1);var l=y(1,e);try{ae(r,t,l)}catch(e){if(!(e instanceof q))throw e;le(r,t,l)}};return s&&oe&&ae(G,t,{configurable:!0,set:n}),se(t,e)})[H],"toString",(function(){return U(this).tag})),F(Z,"withoutSetter",(function(e){return se(O(e),e)})),x.f=de,C.f=ce,L.f=ue,k.f=fe,w.f=_.f=pe,S.f=ve,M.f=function(e){return se(V(e),e)},s&&(P(W,"description",{configurable:!0,get:function(){return U(this).description}}),a||F(G,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Z}),z(b(ie),(function(e){j(e)})),r({target:R,stat:!0,forced:!c},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?h(e):ue(h(e),t)},defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pe}),A(),E(Z,R),B[D]=!0},86544:(e,t,n)=>{var r=n(79989),i=n(67697),o=n(19037),l=n(68844),a=n(36812),s=n(69985),c=n(23622),u=n(34327),d=n(62148),f=n(8758),p=o.Symbol,v=p&&p.prototype;if(i&&s(p)&&(!("description"in v)||void 0!==p().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(v,this)?new p(e):void 0===e?p():p(e);return""===e&&(g[t]=!0),t};f(m,p),m.prototype=v,v.constructor=m;var y="Symbol(description detection)"===String(p("description detection")),h=l(v.valueOf),b=l(v.toString),w=/^Symbol\((.*)\)[^)]+$/,_=l("".replace),S=l("".slice);d(v,"description",{configurable:!0,get:function(){var e=h(this);if(a(g,e))return"";var t=b(e),n=y?S(t,7,-1):_(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},43975:(e,t,n)=>{var r=n(79989),i=n(76058),o=n(36812),l=n(34327),a=n(83430),s=n(46549),c=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=l(e);if(o(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,u[n]=t,n}})},84254:(e,t,n)=>{n(35405)("iterator")},59749:(e,t,n)=>{n(37855),n(43975),n(81445),n(48324),n(79434)},81445:(e,t,n)=>{var r=n(79989),i=n(36812),o=n(30734),l=n(23691),a=n(83430),s=n(46549),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{keyFor:function(e){if(!o(e))throw new TypeError(l(e)+" is not a symbol");if(i(c,e))return c[e]}})},69373:(e,t,n)=>{var r=n(35405),i=n(13032);r("toPrimitive"),i()},76265:(e,t,n)=>{var r=n(19037),i=n(66338),o=n(33265),l=n(752),a=n(75773),s=n(55997),c=n(44201)("iterator"),u=l.values,d=function(e,t){if(e){if(e[c]!==u)try{a(e,c,u)}catch(t){e[c]=u}if(s(e,t,!0),i[t])for(var n in l)if(e[n]!==l[n])try{a(e,n,l[n])}catch(t){e[n]=l[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(o,"DOMTokenList")},62663:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Fe});var r=n(20144),i=n(91849),o=n(5656),l=n(34627),a=n(17963);const s=(e,t,n)=>{const r=Object.assign({escape:!0},n||{});return"/"!==e.charAt(0)&&(e="/"+e),i=(i=t||{})||{},e.replace(/{([^{}]*)}/g,(function(e,t){const n=i[t];return r.escape?encodeURIComponent("string"==typeof n||"number"==typeof n?n.toString():e):"string"==typeof n||"number"==typeof n?n.toString():e}));var i},c=(e,t,n)=>{var r,i,o;const l=Object.assign({noRewrite:!1},n||{}),a=null!=(r=null==n?void 0:n.baseURL)?r:u();return!0!==(null==(o=null==(i=null==window?void 0:window.OC)?void 0:i.config)?void 0:o.modRewriteWorking)||l.noRewrite?a+"/index.php"+s(e,t,n):a+s(e,t,n)};function u(){let e=window._oc_webroot;if(typeof e>"u"){e=location.pathname;const t=e.indexOf("/index.php/");if(-1!==t)e=e.slice(0,t);else{const t=e.indexOf("/",1);e=e.slice(0,t>0?t:void 0)}}return e}var d=n(58610),f=n(64886),p=n(22818),v=n(33907),g=n(74139),m=n(69183),y=n(3443),h=n(43935);const b={name:"FileIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var w=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon file-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},_=[];const S=(0,i.a)(b,w,_,!1,null,null,null,null).exports,k=()=>{var e,t,n;const o=(0,a.j)("files","config",null),l=(0,r.ref)(null==(e=null==o?void 0:o.show_hidden)||e),s=(0,r.ref)(null==(t=null==o?void 0:o.sort_favorites_first)||t),u=(0,r.ref)(null==(n=null==o?void 0:o.crop_image_previews)||n);return(0,r.onMounted)((async()=>{var e,t,n,r,o,a;if((0,d.o)())console.debug("Skip loading files settings - currently on public share");else try{const{data:i}=await p.ZP.get(c("/apps/files/api/v1/configs"));l.value=null!=(t=null==(e=null==i?void 0:i.data)?void 0:e.show_hidden)&&t,s.value=null==(r=null==(n=null==i?void 0:i.data)?void 0:n.sort_favorites_first)||r,u.value=null==(a=null==(o=null==i?void 0:i.data)?void 0:o.crop_image_previews)||a}catch(e){console.error("Could not load files settings",e),(0,i.l)((0,i.t)("Could not load files settings"))}})),{showHiddenFiles:l,sortFavoritesFirst:s,cropImagePreviews:u}},C={name:"MenuUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var L=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon menu-up-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7,15L12,10L17,15H7Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},x=[];const F=(0,i.a)(C,L,x,!1,null,null,null,null).exports,P={name:"MenuDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var N=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon menu-down-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7,10L12,15L17,10H7Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},I=[];const B=(0,i.a)(P,N,I,!1,null,null,null,null).exports,O={"file-picker__file-icon":"_file-picker__file-icon_19mjt_9"},V=(0,r.defineComponent)({__name:"LoadingTableRow",props:{showCheckbox:{type:Boolean}},setup:e=>({__sfc:!0,fileListIconStyles:O})});var M=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("tr",{staticClass:"file-picker__row loading-row",attrs:{"aria-hidden":"true"}},[e.showCheckbox?t("td",{staticClass:"row-checkbox"},[t("span")]):e._e(),t("td",{staticClass:"row-name"},[t("div",{staticClass:"row-wrapper"},[t("span",{class:n.fileListIconStyles["file-picker__file-icon"]}),t("span")])]),e._m(0),e._m(1)])},j=[function(){var e=this._self._c;return this._self._setupProxy,e("td",{staticClass:"row-size"},[e("span")])},function(){var e=this._self._c;return this._self._setupProxy,e("td",{staticClass:"row-modified"},[e("span")])}];const A=(0,i.a)(V,M,j,!1,null,"15187afc",null,null).exports;const E={name:"FolderIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var T=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon folder-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},z=[];const D=(0,i.a)(E,T,z,!1,null,null,null,null).exports,R=(0,r.defineComponent)({name:"FilePreview",props:{node:null,cropImagePreviews:{type:Boolean}},setup(e){const t=e,n=(0,r.ref)(O),i=(0,r.computed)((()=>function(e,t={}){var n;t={size:32,cropPreview:!1,mimeFallback:!0,...t};try{const r=(null==(n=e.attributes)?void 0:n.previewUrl)||c("/core/preview?fileId={fileid}",{fileid:e.fileid});let i;try{i=new URL(r)}catch(e){i=new URL(r,window.location.origin)}return i.searchParams.set("x","".concat(t.size)),i.searchParams.set("y","".concat(t.size)),i.searchParams.set("mimeFallback","".concat(t.mimeFallback)),i.searchParams.set("a",!0===t.cropPreview?"0":"1"),i.searchParams.set("c","".concat(e.attributes.etag)),i}catch(e){return null}}(t.node,{cropPreview:t.cropImagePreviews}))),l=(0,r.computed)((()=>t.node.type===o.Tv.File)),a=(0,r.ref)(!1);return(0,r.watchEffect)((()=>{if(a.value=!1,i.value){const e=new Image;e.src=i.value.href,e.onerror=()=>e.remove(),e.onload=()=>{a.value=!0,e.remove()}}})),{__sfc:!0,fileListIconStyles:n,props:t,previewURL:i,isFile:l,canLoadPreview:a,IconFile:S,IconFolder:D}}});var H=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{class:n.fileListIconStyles["file-picker__file-icon"],style:n.canLoadPreview?{backgroundImage:"url(".concat(n.previewURL,")")}:void 0},[n.canLoadPreview?e._e():[n.isFile?t(n.IconFile,{attrs:{size:20}}):t(n.IconFolder,{attrs:{size:20}})]],2)},$=[];const U=(0,i.a)(R,H,$,!1,null,null,null,null).exports,G=(0,r.defineComponent)({__name:"FileListRow",props:{allowPickDirectory:{type:Boolean},selected:{type:Boolean},showCheckbox:{type:Boolean},canPick:{type:Boolean},node:null,cropImagePreviews:{type:Boolean}},emits:["update:selected","enter-directory"],setup(e,{emit:t}){const n=e,a=(0,r.computed)((()=>{var e;return(null==(e=n.node.attributes)?void 0:e.displayName)||n.node.basename.slice(0,n.node.extension?-n.node.extension.length:void 0)})),s=(0,r.computed)((()=>n.node.extension)),c=(0,r.computed)((()=>n.node.type===o.Tv.Folder)),u=(0,r.computed)((()=>n.canPick&&(n.allowPickDirectory||!c.value)));function d(){t("update:selected",!n.selected)}function f(){c.value?t("enter-directory",n.node):d()}return{__sfc:!0,props:n,emit:t,displayName:a,fileExtension:s,isDirectory:c,isPickable:u,toggleSelected:d,handleClick:f,handleKeyDown:function(e){"Enter"===e.key&&f()},formatFileSize:o.sS,NcCheckboxRadioSwitch:l.rw,NcDateTime:l.Jh,t:i.t,FilePreview:U}}});var Z=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("tr",e._g({class:["file-picker__row",{"file-picker__row--selected":e.selected&&!e.showCheckbox}],attrs:{tabindex:e.showCheckbox&&!n.isDirectory?void 0:0,"aria-selected":n.isPickable?e.selected:void 0,"data-filename":e.node.basename,"data-testid":"file-list-row"}},{click:n.handleClick,...!e.showCheckbox||n.isDirectory?{keydown:n.handleKeyDown}:{}}),[e.showCheckbox?t("td",{staticClass:"row-checkbox",on:{click:function(e){return e.stopPropagation(),(()=>{}).apply(null,arguments)}}},[t(n.NcCheckboxRadioSwitch,{attrs:{"aria-label":n.t("Select the row for {nodename}",{nodename:n.displayName}),checked:e.selected,disabled:!n.isPickable,"data-testid":"row-checkbox"},on:{"update:checked":n.toggleSelected}})],1):e._e(),t("td",{staticClass:"row-name"},[t("div",{staticClass:"file-picker__name-container",attrs:{"data-testid":"row-name"}},[t(n.FilePreview,{attrs:{node:e.node,"crop-image-previews":e.cropImagePreviews}}),t("div",{staticClass:"file-picker__file-name",attrs:{title:n.displayName},domProps:{textContent:e._s(n.displayName)}}),t("div",{staticClass:"file-picker__file-extension",domProps:{textContent:e._s(n.fileExtension)}})],1)]),t("td",{staticClass:"row-size"},[e._v(" "+e._s(n.formatFileSize(e.node.size||0))+" ")]),t("td",{staticClass:"row-modified"},[t(n.NcDateTime,{attrs:{timestamp:e.node.mtime,"ignore-seconds":!0}})],1)])},W=[];const q=(0,i.a)(G,Z,W,!1,null,"cb12dccb",null,null).exports,Y=(0,r.defineComponent)({__name:"FileList",props:{currentView:null,multiselect:{type:Boolean},allowPickDirectory:{type:Boolean},loading:{type:Boolean},files:null,selectedFiles:null,path:null},emits:["update:path","update:selectedFiles"],setup(e,{emit:t}){const n=e,s=(0,r.ref)(),{currentConfig:u}=(e=>{var t,n,o,l,s,u,v,g,m,y,h,b;const w=e=>"asc"===e?"ascending":"desc"===e?"descending":"none",_=(0,a.j)("files","viewConfigs",null),S=(0,r.ref)({sortBy:null!=(n=null==(t=null==_?void 0:_.files)?void 0:t.sorting_mode)?n:"basename",order:w(null!=(l=null==(o=null==_?void 0:_.files)?void 0:o.sorting_direction)?l:"asc")}),k=(0,r.ref)({sortBy:null!=(u=null==(s=null==_?void 0:_.recent)?void 0:s.sorting_mode)?u:"basename",order:w(null!=(g=null==(v=null==_?void 0:_.recent)?void 0:v.sorting_direction)?g:"asc")}),C=(0,r.ref)({sortBy:null!=(y=null==(m=null==_?void 0:_.favorites)?void 0:m.sorting_mode)?y:"basename",order:w(null!=(b=null==(h=null==_?void 0:_.favorites)?void 0:h.sorting_direction)?b:"asc")});(0,r.onMounted)((async()=>{var e,t,n,r,o,l,a,s,u,f,v,g,m,y,h;if((0,d.o)())console.debug("Skip loading files views - currently on public share");else try{const{data:i}=await p.ZP.get(c("/apps/files/api/v1/views"));S.value={sortBy:null!=(n=null==(t=null==(e=null==i?void 0:i.data)?void 0:e.files)?void 0:t.sorting_mode)?n:"basename",order:w(null==(o=null==(r=null==i?void 0:i.data)?void 0:r.files)?void 0:o.sorting_direction)},C.value={sortBy:null!=(s=null==(a=null==(l=null==i?void 0:i.data)?void 0:l.favorites)?void 0:a.sorting_mode)?s:"basename",order:w(null==(f=null==(u=null==i?void 0:i.data)?void 0:u.favorites)?void 0:f.sorting_direction)},k.value={sortBy:null!=(m=null==(g=null==(v=null==i?void 0:i.data)?void 0:v.recent)?void 0:g.sorting_mode)?m:"basename",order:w(null==(h=null==(y=null==i?void 0:i.data)?void 0:y.recent)?void 0:h.sorting_direction)}}catch(e){console.error("Could not load files views",e),(0,i.l)((0,i.t)("Could not load files views"))}}));const L=(0,r.computed)((()=>"files"===(0,f.Tn)(e||"files")?S.value:"recent"===(0,f.Tn)(e)?k.value:C.value)),x=(0,r.computed)((()=>L.value.sortBy)),F=(0,r.computed)((()=>L.value.order));return{filesViewConfig:S,favoritesViewConfig:C,recentViewConfig:k,currentConfig:L,sortBy:x,order:F}})(n.currentView),v=(0,r.computed)((()=>{var e;return null!=(e=s.value)?e:u.value})),g=(0,r.computed)((()=>"basename"===v.value.sortBy?"none"===v.value.order?void 0:v.value.order:void 0)),m=(0,r.computed)((()=>"size"===v.value.sortBy?"none"===v.value.order?void 0:v.value.order:void 0)),y=(0,r.computed)((()=>"mtime"===v.value.sortBy?"none"===v.value.order?void 0:v.value.order:void 0)),{sortFavoritesFirst:h,cropImagePreviews:b}=k(),w=(0,r.computed)((()=>(0,o.On)(n.files,{sortFoldersFirst:!0,sortFavoritesFirst:h.value,sortingOrder:"descending"===v.value.order?"desc":"asc",sortingMode:v.value.sortBy}))),_=(0,r.computed)((()=>n.files.filter((e=>n.allowPickDirectory||e.type!==o.Tv.Folder)))),S=(0,r.computed)((()=>!n.loading&&n.selectedFiles.length>0&&n.selectedFiles.length>=_.value.length));const C=(0,r.ref)(4),L=(0,r.ref)();{const e=()=>(0,r.nextTick)((()=>{var e,t,n,r,i;const o=(null==(t=null==(e=L.value)?void 0:e.parentElement)?void 0:t.children)||[];let l=(null==(r=null==(n=L.value)?void 0:n.parentElement)?void 0:r.clientHeight)||450;for(let e=0;e<o.length;e++)(null==(i=L.value)?void 0:i.isSameNode(o[e]))||(l-=o[e].clientHeight);C.value=Math.max(1,Math.floor((l-50)/50))}));(0,r.onMounted)((()=>{window.addEventListener("resize",e),e()})),(0,r.onUnmounted)((()=>{window.removeEventListener("resize",e)}))}return{__sfc:!0,props:n,emit:t,customSortingConfig:s,filesAppSorting:u,sortingConfig:v,sortByName:g,sortBySize:m,sortByModified:y,toggleSorting:e=>{v.value.sortBy===e?"ascending"===v.value.order?s.value={sortBy:v.value.sortBy,order:"descending"}:s.value={sortBy:v.value.sortBy,order:"ascending"}:s.value={sortBy:e,order:"ascending"}},sortFavoritesFirst:h,cropImagePreviews:b,sortedFiles:w,selectableFiles:_,allSelected:S,onSelectAll:function(){n.selectedFiles.length<_.value.length?t("update:selectedFiles",_.value):t("update:selectedFiles",[])},onNodeSelected:function(e){n.selectedFiles.includes(e)?t("update:selectedFiles",n.selectedFiles.filter((t=>t.path!==e.path))):n.multiselect?t("update:selectedFiles",[...n.selectedFiles,e]):t("update:selectedFiles",[e])},onChangeDirectory:function(e){t("update:path",e.path)},skeletonNumber:C,fileContainer:L,NcButton:l.P2,NcCheckboxRadioSwitch:l.rw,t:i.t,IconSortAscending:F,IconSortDescending:B,LoadingTableRow:A,FileListRow:q}}});var K=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{ref:"fileContainer",staticClass:"file-picker__files"},[t("table",[t("thead",[t("tr",[e.multiselect?t("th",{staticClass:"row-checkbox"},[t("span",{staticClass:"hidden-visually"},[e._v(" "+e._s(n.t("Select entry"))+" ")]),e.multiselect?t(n.NcCheckboxRadioSwitch,{attrs:{"aria-label":n.t("Select all entries"),checked:n.allSelected,"data-testid":"select-all-checkbox"},on:{"update:checked":n.onSelectAll}}):e._e()],1):e._e(),t("th",{staticClass:"row-name",attrs:{"aria-sort":n.sortByName}},[t("div",{staticClass:"header-wrapper"},[t("span",{staticClass:"file-picker__header-preview"}),t(n.NcButton,{attrs:{wide:!0,type:"tertiary","data-test":"file-picker_sort-name"},on:{click:function(e){return n.toggleSorting("basename")}},scopedSlots:e._u([{key:"icon",fn:function(){return["ascending"===n.sortByName?t(n.IconSortAscending,{attrs:{size:20}}):"descending"===n.sortByName?t(n.IconSortDescending,{attrs:{size:20}}):t("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[e._v(" "+e._s(n.t("Name"))+" ")])],1)]),t("th",{staticClass:"row-size",attrs:{"aria-sort":n.sortBySize}},[t(n.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(e){return n.toggleSorting("size")}},scopedSlots:e._u([{key:"icon",fn:function(){return["ascending"===n.sortBySize?t(n.IconSortAscending,{attrs:{size:20}}):"descending"===n.sortBySize?t(n.IconSortDescending,{attrs:{size:20}}):t("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[e._v(" "+e._s(n.t("Size"))+" ")])],1),t("th",{staticClass:"row-modified",attrs:{"aria-sort":n.sortByModified}},[t(n.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(e){return n.toggleSorting("mtime")}},scopedSlots:e._u([{key:"icon",fn:function(){return["ascending"===n.sortByModified?t(n.IconSortAscending,{attrs:{size:20}}):"descending"===n.sortByModified?t(n.IconSortDescending,{attrs:{size:20}}):t("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[e._v(" "+e._s(n.t("Modified"))+" ")])],1)])]),t("tbody",[e.loading?e._l(n.skeletonNumber,(function(r){return t(n.LoadingTableRow,{key:r,attrs:{"show-checkbox":e.multiselect}})})):e._l(n.sortedFiles,(function(r){return t(n.FileListRow,{key:r.fileid||r.path,attrs:{"allow-pick-directory":e.allowPickDirectory,"show-checkbox":e.multiselect,"can-pick":e.multiselect||0===e.selectedFiles.length||e.selectedFiles.includes(r),selected:e.selectedFiles.includes(r),node:r,"crop-image-previews":n.cropImagePreviews},on:{"update:selected":function(e){return n.onNodeSelected(r)},"enter-directory":n.onChangeDirectory}})}))],2)])])},J=[];const Q=(0,i.a)(Y,K,J,!1,null,"006fdbd0",null,null).exports,X={name:"HomeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ee=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon home-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},te=[];const ne=(0,i.a)(X,ee,te,!1,null,null,null,null).exports,re={name:"PlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ie=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon plus-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},oe=[];const le=(0,i.a)(re,ie,oe,!1,null,null,null,null).exports,ae=(0,r.defineComponent)({__name:"FilePickerBreadcrumbs",props:{path:null,showMenu:{type:Boolean}},emits:["update:path","create-node"],setup(e,{emit:t}){const n=e,o=(0,r.ref)(!1),a=(0,r.ref)(""),s=(0,r.ref)();function c(){var e,t,n,r;const o=a.value.trim(),l=null==(t=null==(e=s.value)?void 0:e.$el)?void 0:t.querySelector("input");let c="";return 0===o.length?c=(0,i.t)("Folder name cannot be empty."):o.includes("/")?c=(0,i.t)('"/" is not allowed inside a folder name.'):["..","."].includes(o)?c=(0,i.t)('"{name}" is an invalid folder name.',{name:o}):(null==(n=window.OC.config)?void 0:n.blacklist_files_regex)&&o.match(null==(r=window.OC.config)?void 0:r.blacklist_files_regex)&&(c=(0,i.t)('"{name}" is not an allowed folder name',{name:o})),l&&l.setCustomValidity(c),""===c}const u=(0,r.computed)((()=>n.path.split("/").filter((e=>""!==e)).map(((e,t,n)=>({name:e,path:"/"+n.slice(0,t+1).join("/")})))));return{__sfc:!0,props:n,emit:t,actionsOpen:o,newNodeName:a,nameInput:s,validateInput:c,onSubmit:function(){const e=a.value.trim();c()&&(o.value=!1,t("create-node",e),a.value="")},pathElements:u,IconFolder:D,IconHome:ne,IconPlus:le,NcActions:l.O3,NcActionInput:l.Iw,NcBreadcrumbs:l.fg,NcBreadcrumb:l.$U,t:i.t}}});var se=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.NcBreadcrumbs,{staticClass:"file-picker__breadcrumbs",scopedSlots:e._u([{key:"default",fn:function(){return[t(n.NcBreadcrumb,{attrs:{name:n.t("All files"),title:n.t("Home")},on:{click:function(e){return n.emit("update:path","/")}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(n.IconHome,{attrs:{size:20}})]},proxy:!0}])}),e._l(n.pathElements,(function(e){return t(n.NcBreadcrumb,{key:e.path,attrs:{name:e.name,title:e.path},on:{click:function(t){return n.emit("update:path",e.path)}}})}))]},proxy:!0},e.showMenu?{key:"actions",fn:function(){return[t(n.NcActions,{attrs:{"aria-label":n.t("Create directory"),"force-menu":!0,"force-name":!0,"menu-name":n.t("New"),open:n.actionsOpen,type:"secondary"},on:{"update:open":function(e){n.actionsOpen=e},close:function(e){n.newNodeName=""}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(n.IconPlus,{attrs:{size:20}})]},proxy:!0}],null,!1,2971667417)},[t(n.NcActionInput,{ref:"nameInput",attrs:{value:n.newNodeName,label:n.t("New folder"),placeholder:n.t("New folder name")},on:{"update:value":function(e){n.newNodeName=e},submit:n.onSubmit,input:n.validateInput},scopedSlots:e._u([{key:"icon",fn:function(){return[t(n.IconFolder,{attrs:{size:20}})]},proxy:!0}],null,!1,1614167509)})],1)]},proxy:!0}:null],null,!0)})},ce=[];const ue=(0,i.a)(ae,se,ce,!1,null,"b357227a",null,null).exports,de={name:"CloseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var fe=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon close-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},pe=[];const ve=(0,i.a)(de,fe,pe,!1,null,null,null,null).exports,ge={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var me=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon magnify-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},ye=[];const he=(0,i.a)(ge,me,ye,!1,null,null,null,null).exports,be=(0,r.defineComponent)({__name:"FilePickerNavigation",props:{currentView:null,filterString:null,isCollapsed:{type:Boolean},disabledNavigation:{type:Boolean}},emits:["update:currentView","update:filterString"],setup(e,{emit:t}){const n=e,{availableViews:o}=(e=>{const t=[{id:"files",label:(0,i.t)("All files"),icon:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},{id:"recent",label:(0,i.t)("Recent"),icon:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z"},{id:"favorites",label:(0,i.t)("Favorites"),icon:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"}],n=e.value?t.filter((({id:e})=>"files"===e)):t;return{allViews:t,availableViews:n}})((0,r.ref)(null===(0,v.ts)())),a=(0,r.computed)((()=>{var e;return null!=(e=o.filter((e=>e.id===n.currentView))[0])?e:o[0]}));return{__sfc:!0,props:n,emit:t,availableViews:o,currentViewObject:a,updateFilterValue:e=>t("update:filterString",e),IconClose:ve,IconMagnify:he,NcButton:l.P2,NcIconSvgWrapper:l.FK,NcSelect:l.QG,NcTextField:l.h3,Fragment:g.H,t:i.t}}});var we=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.Fragment,[t(n.NcTextField,{staticClass:"file-picker__filter-input",attrs:{value:e.filterString,label:n.t("Filter file list"),"show-trailing-button":!!e.filterString},on:{"update:value":n.updateFilterValue,"trailing-button-click":function(e){return n.updateFilterValue("")}},scopedSlots:e._u([{key:"trailing-button-icon",fn:function(){return[t(n.IconClose,{attrs:{size:16}})]},proxy:!0}])},[t(n.IconMagnify,{attrs:{size:16}})],1),n.availableViews.length>1&&!e.disabledNavigation?[e.isCollapsed?t(n.NcSelect,{attrs:{"aria-label":n.t("Current view selector"),clearable:!1,searchable:!1,options:n.availableViews,value:n.currentViewObject},on:{input:e=>n.emit("update:currentView",e.id)}}):t("ul",{staticClass:"file-picker__side"},e._l(n.availableViews,(function(r){return t("li",{key:r.id},[t(n.NcButton,{attrs:{type:e.currentView===r.id?"primary":"tertiary",wide:!0},on:{click:function(t){return e.$emit("update:currentView",r.id)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(n.NcIconSvgWrapper,{attrs:{path:r.icon,size:20}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(r.label)+" ")])],1)})),0)]:e._e()],2)},_e=[];const Se=(0,i.a)(be,we,_e,!1,null,"b42054b8",null,null).exports;const ke=function(e,t){const n=(0,o.rp)(),i=(0,r.shallowRef)([]),l=(0,r.shallowRef)(null),a=(0,r.ref)(!0),s=(0,r.ref)(null);async function c(){s.value&&s.value.cancel(),a.value=!0,"favorites"===e.value?s.value=(0,o.pC)(n,t.value):"recent"===e.value?s.value=function(e){const t=new AbortController,n=Math.round(Date.now()/1e3)-1209600;return new y.CancelablePromise((async(r,i,l)=>{l((()=>t.abort()));try{const{data:i}=await e.search("/",{signal:t.signal,details:!0,data:(0,o.tB)(n)});r(i.results.map((e=>(0,o.RL)(e))))}catch(e){i(e)}}))}(n):s.value=function(e,t){const n=new AbortController;return new y.CancelablePromise((async(r,i,l)=>{l((()=>n.abort()));try{const i=(await e.getDirectoryContents((0,h.join)(o._o,t),{signal:n.signal,details:!0,includeSelf:!0,data:(0,o.h7)()})).data.map((e=>(0,o.RL)(e)));r({contents:i.filter((({path:e})=>e!==t)),folder:i.find((({path:e})=>e===t))})}catch(e){i(e)}}))}(n,t.value);const r=await s.value;"folder"in r?(l.value=r.folder,i.value=r.contents):(l.value=null,i.value=r),s.value=null,a.value=!1}return(0,r.watch)([e,t],(()=>c())),(0,r.onMounted)((()=>c())),{isLoading:a,files:i,folder:l,loadFiles:c,createDirectory:async function(e){const r=(0,h.join)(t.value,e);await n.createDirectory((0,h.join)(o._o,r));const l=await async function(e,t){const{data:n}=await e.stat((0,h.join)(o._o,t),{details:!0,data:(0,o.h7)()});return(0,o.RL)(n)}(n,r);return i.value=[...i.value,l],l}}},Ce=(0,r.defineComponent)({name:"FilePicker",props:{buttons:null,name:null,allowPickDirectory:{type:Boolean,default:!1},disabledNavigation:{type:Boolean,default:!1},container:{default:"body"},filterFn:{default:void 0},mimetypeFilter:{default:()=>[]},multiselect:{type:Boolean,default:!0},path:{default:void 0}},emits:["close"],setup(e,{emit:t}){const n=e,o=(0,r.ref)(!0),a=(0,r.computed)((()=>{const e=0===f.value.length&&n.allowPickDirectory&&w.value?[w.value]:f.value;return("function"==typeof n.buttons?n.buttons(e,g.value,u.value):n.buttons).map((t=>({...t,disabled:t.disabled||_.value,callback:()=>{s=!0,c(t.callback,e)}})))}));let s=!1;const c=async(e,n)=>{e(n),t("close",n),s=!1},u=(0,r.ref)("files"),d=(0,r.computed)((()=>"favorites"===u.value?(0,i.t)("Favorites"):"recent"===u.value?(0,i.t)("Recent"):"")),f=(0,r.shallowRef)([]),p=(0,r.ref)((null==window?void 0:window.sessionStorage.getItem("NC.FilePicker.LastPath"))||"/"),v=(0,r.ref)("");(0,r.watch)([v],(()=>{void 0===n.path&&v.value&&window.sessionStorage.setItem("NC.FilePicker.LastPath",v.value),f.value=[]}));const g=(0,r.computed)({get:()=>"files"===u.value?v.value||n.path||p.value:"/",set:e=>{v.value=e}}),y=(0,r.ref)(""),{isSupportedMimeType:h}=function(e){const t=(0,r.computed)((()=>e.value.map((e=>e.split("/")))));return{isSupportedMimeType:e=>{const n=e.split("/");return t.value.some((([e,t])=>!(n[0]!==e&&"*"!==e||n[1]!==t&&"*"!==t)))}}}((0,r.toRef)(n,"mimetypeFilter")),{files:b,folder:w,isLoading:_,loadFiles:C,createDirectory:L}=ke(u,g);(0,r.onMounted)((()=>C()));const{showHiddenFiles:x}=k(),F=(0,r.computed)((()=>{let e=b.value;return x.value||(e=e.filter((e=>!e.basename.startsWith(".")))),n.mimetypeFilter.length>0&&(e=e.filter((e=>"folder"===e.type||e.mime&&h(e.mime)))),y.value&&(e=e.filter((e=>e.basename.toLowerCase().includes(y.value.toLowerCase())))),n.filterFn&&(e=e.filter((e=>n.filterFn(e)))),e})),P=(0,r.computed)((()=>"files"===u.value?(0,i.t)("Upload some content or sync with your devices!"):"recent"===u.value?(0,i.t)("Files and folders you recently modified will show up here."):(0,i.t)("Files and folders you mark as favorite will show up here.")));return{__sfc:!0,props:n,emit:t,isOpen:o,dialogButtons:a,isHandlingCallback:s,handleButtonClick:c,currentView:u,viewHeadline:d,selectedFiles:f,savedPath:p,navigatedPath:v,currentPath:g,filterString:y,isSupportedMimeType:h,files:b,currentFolder:w,isLoading:_,loadFiles:C,createDirectory:L,showHiddenFiles:x,filteredFiles:F,noFilesDescription:P,onCreateFolder:async e=>{try{const t=await L(e);v.value=t.path,(0,m.j8)("files:node:created",b.value.filter((t=>t.basename===e))[0])}catch(t){console.warn("Could not create new folder",{name:e,error:t}),(0,i.l)((0,i.t)("Could not create the new folder"))}},handleClose:e=>{e||s||t("close")},IconFile:S,FileList:Q,FilePickerBreadcrumbs:ue,FilePickerNavigation:Se,NcDialog:l.a0,NcEmptyContent:l.SL,t:i.t}}});var Le=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.NcDialog,{attrs:{container:e.container,buttons:n.dialogButtons,name:e.name,size:"large","content-classes":"file-picker__content","dialog-classes":"file-picker","navigation-classes":"file-picker__navigation",open:n.isOpen},on:{"update:open":[function(e){n.isOpen=e},n.handleClose]},scopedSlots:e._u([{key:"navigation",fn:function({isCollapsed:r}){return[t(n.FilePickerNavigation,{attrs:{"is-collapsed":r,"current-view":n.currentView,"filter-string":n.filterString,"disabled-navigation":e.disabledNavigation},on:{"update:currentView":function(e){n.currentView=e},"update:current-view":function(e){n.currentView=e},"update:filterString":function(e){n.filterString=e},"update:filter-string":function(e){n.filterString=e}}})]}}])},[t("div",{staticClass:"file-picker__main"},["files"===n.currentView?t(n.FilePickerBreadcrumbs,{attrs:{path:n.currentPath,"show-menu":e.allowPickDirectory},on:{"update:path":function(e){n.currentPath=e},"create-node":n.onCreateFolder}}):t("div",{staticClass:"file-picker__view"},[t("h3",[e._v(e._s(n.viewHeadline))])]),n.isLoading||n.filteredFiles.length>0?t(n.FileList,{attrs:{"allow-pick-directory":e.allowPickDirectory,"current-view":n.currentView,files:n.filteredFiles,multiselect:e.multiselect,loading:n.isLoading,path:n.currentPath,"selected-files":n.selectedFiles,name:n.viewHeadline},on:{"update:path":[function(e){n.currentPath=e},function(e){n.currentView="files"}],"update:selectedFiles":function(e){n.selectedFiles=e},"update:selected-files":function(e){n.selectedFiles=e}}}):n.filterString?t(n.NcEmptyContent,{attrs:{name:n.t("No matching files"),description:n.t("No files matching your filter were found.")},scopedSlots:e._u([{key:"icon",fn:function(){return[t(n.IconFile)]},proxy:!0}])}):t(n.NcEmptyContent,{attrs:{name:n.t("No files in here"),description:n.noFilesDescription},scopedSlots:e._u([{key:"icon",fn:function(){return[t(n.IconFile)]},proxy:!0}])})],1)])},xe=[];const Fe=(0,i.a)(Ce,Le,xe,!1,null,"20b719ba",null,null).exports},66183:(e,t,n)=>{n.d(t,{a:()=>s,e:()=>a,g:()=>c,s:()=>u});var r=n(98733),i=n(59673),o=n(32859);const l=(0,r.Kc)("nextcloud-vue").persist(!0).build();const a=(e,t=10)=>{const n=new i.EmojiIndex(o),r=c();let l;return e?(l=n.search(":".concat(e),t),l.length<t&&(l=l.concat(n.search(e,t-l.length)))):l=i.frequently.get(t).map((e=>n.emoji(e)))||[],l.map((e=>e.getSkin(r)))},s=function(e){i.frequently.add(e)},c=()=>{var e;const t=Number.parseInt(null!=(e=l.getItem("NcEmojiPicker::currentSkinTone"))?e:"1");return Math.min(Math.max(t,1),6)},u=e=>{e=Math.min(Math.max(e,1),6),l.setItem("NcEmojiPicker::currentSkinTone",e.toString())}}}]);
//# sourceMappingURL=vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_dialogs_dist_chunk-aa3936.js.map?v=81b69423467153a52271