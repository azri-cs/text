const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor-CBDZpr_Q.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper-C-lXe2JN.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm-bNilBEqq.chunk.mjs'),window.OC.filePath('text', '', 'js/RichText-DZ9DkoTC.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-DBF1PUjH.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-CImn6F9p-DfH__xn9.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-SoWZqoso.chunk.mjs'),window.OC.filePath('text', '', 'css/NcNoteCard-CImn6F9p-DRHbZemr.chunk.css'),window.OC.filePath('text', '', 'js/index-BAwgSbXM.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill-DWmE1iRM.chunk.mjs'),window.OC.filePath('text', '', 'js/index-Ubm2itxG.chunk.mjs'),window.OC.filePath('text', '', 'js/index-BsP9TA20.chunk.mjs'),window.OC.filePath('text', '', 'css/_plugin-vue2_normalizer-BYq5wWTa.chunk.css'),window.OC.filePath('text', '', 'js/index-CpGfDoJt.chunk.mjs'),window.OC.filePath('text', '', 'js/MediaHandler.provider-CVP9yCf0.chunk.mjs'),window.OC.filePath('text', '', 'js/logger-BO9gi8Fa.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-CQ6iBklL-DgAdGNVy.chunk.mjs'),window.OC.filePath('text', '', 'css/RichText-CRlZObVv.chunk.css'),window.OC.filePath('text', '', 'css/Wrapper-BfLQoXX6.chunk.css'),window.OC.filePath('text', '', 'css/MarkdownContentEditor-BgM-6ymQ.chunk.css'),window.OC.filePath('text', '', 'js/Editor-CWLz1Adv.chunk.mjs'),window.OC.filePath('text', '', 'js/_commonjs-dynamic-modules-CSduYUN4.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-CM6adqVu.chunk.css')])))=>i.map(i=>d[i]);
/*! third party licenses: js/vendor.LICENSE.txt */
var $=o=>{throw TypeError(o)};var v=(o,t,e)=>t.has(o)||$("Cannot "+e);var n=(o,t,e)=>(v(o,t,"read from private field"),e?e.call(o):t.get(o)),O=(o,t,e)=>t.has(o)?$("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),f=(o,t,e,i)=>(v(o,t,"write to private field"),i?i.call(o,e):t.set(o,e),e),d=(o,t,e)=>(v(o,t,"access private method"),e);import{_,s as H}from"./modulepreload-polyfill-DWmE1iRM.chunk.mjs";import{V as m}from"./vue.runtime.esm-bNilBEqq.chunk.mjs";import{s as R}from"./index-CpGfDoJt.chunk.mjs";import{A as U,E as B,H as D,a as N,b as Q}from"./MediaHandler.provider-CVP9yCf0.chunk.mjs";import"./emoji-picker-SoWZqoso.chunk.mjs";import"./index-BAwgSbXM.chunk.mjs";import"./logger-BO9gi8Fa.chunk.mjs";import"./index-BsP9TA20.chunk.mjs";const F="1.1";m.prototype.t=window.t,m.prototype.n=window.n,m.prototype.OCA=window.OCA,window.OCA.Text={...window.OCA.Text};var r,h,s,u,g;class j{constructor(t,e){O(this,s);O(this,r);O(this,h);return f(this,r,t),f(this,h,e),d(this,s,g).call(this),this}onLoaded(t=()=>{}){return n(this,r).$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return n(this,r).$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return n(this,r).$on("outline-toggled",e=>{t(e)}),this}onSearch(t=()=>{}){return H("text:editor:search-results",t),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),n(this,r).$mount(e),this}destroy(){n(this,r).$destroy(),n(this,r).$el.innerHTML=""}setContent(t){var e,i;return n(this,r).$set(n(this,h),"content",t),(i=(e=d(this,s,u).call(this))==null?void 0:e.setContent)==null||i.call(e,t),this}setSearchQuery(t,e){var i;((i=d(this,s,u).call(this))==null?void 0:i.$editor).commands.setSearchQuery(t,e)}searchNext(){var t;((t=d(this,s,u).call(this))==null?void 0:t.$editor).commands.nextMatch()}searchPrevious(){var t;((t=d(this,s,u).call(this))==null?void 0:t.$editor).commands.previousMatch()}async save(){var t,e;return(e=(t=d(this,s,u).call(this)).save)==null?void 0:e.call(t)}setShowOutline(t){return n(this,r).$set(n(this,h),"showOutlineOutside",t),this}setReadOnly(t){return n(this,r).$set(n(this,h),"readOnly",t),this}insertAtCursor(t){d(this,s,u).call(this).$editor.chain().insertContent(t).focus().run()}focus(){d(this,s,u).call(this).$editor.commands.focus()}}r=new WeakMap,h=new WeakMap,s=new WeakSet,u=function(){return n(this,r).$children[0]},g=function(){var t;window!=null&&window._oc_debug&&(this.vm=n(this,r),window.OCA.Text._debug=[...(t=window.OCA.Text._debug)!=null?t:[],this])};window.OCA.Text.apiVersion=F,window.OCA.Text.createEditor=async function({el:o,fileId:t=void 0,useSession:e=!0,filePath:i=void 0,shareToken:T=null,content:C="",readOnly:x=!1,autofocus:A=!0,readonlyBar:c={component:null,props:null},onLoaded:S=()=>{},onUpdate:b=({markdown:y})=>{},onOutlineToggle:I=y=>{},onFileInsert:E=void 0,onMentionSearch:L=void 0,onMentionInsert:M=void 0,onSearch:P=void 0}){const{default:y}=await _(async()=>{const{default:a}=await import("./MarkdownContentEditor-CBDZpr_Q.chunk.mjs");return{default:a}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),{default:k}=await _(async()=>{const{default:a}=await import("./Editor-CWLz1Adv.chunk.mjs").then(p=>p.b);return{default:a}},__vite__mapDeps([20,9,6,2,10,3,4,5,7,8,11,12,13,14,15,16,17,1,18,21,22]),import.meta.url),l=m.observable({showOutlineOutside:!1,readOnly:x,content:C}),w=t&&e,V=new m({provide(){return{[U]:E,[B]:!!w,[D]:w?!0:L,[N]:w?!0:M,[Q]:{resolve(a,p){return[{type:"image",url:a}]}}}},data(){return l},render:a=>{const p=c!=null&&c.component?{readonlyBar:()=>a(c.component,{props:c.props})}:{};return w?a(k,{props:{fileId:t,relativePath:i,shareToken:T,mime:"text/markdown",active:!0,autofocus:A,showOutlineOutside:l.showOutlineOutside},scopedSlots:p}):a(y,{props:{fileId:t,content:l.content,relativePath:i,shareToken:T,readOnly:l.readOnly,showOutlineOutside:l.showOutlineOutside},scopedSlots:p})},store:R});return new j(V,l).onLoaded(S).onUpdate(b).onOutlineToggle(I).onSearch(P).render(o)};
